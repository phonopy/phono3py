
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Command options / Setting tags &#8212; Phono3py v.2.4.0</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Input / Output files" href="input-output-files.html" />
    <link rel="prev" title="TURBOMOLE &amp; phono3py calculation" href="turbomole.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Phono3py v.2.4.0</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="install.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workflow.html">
   Workflow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="examples.html">
   Examples
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="interfaces.html">
   Interfaces to calculators (VASP, QE, CRYSTAL, Abinit, TURBOMOLE)
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="vasp.html">
     VASP &amp; phono3py calculation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="qe.html">
     Quantum ESPRESSO (pw) &amp; phono3py calculation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="crystal.html">
     CRYSTAL &amp; phono3py calculation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="turbomole.html">
     TURBOMOLE &amp; phono3py calculation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Command options / Setting tags
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="input-output-files.html">
   Input / Output files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hdf5_howto.html">
   How to read the results stored in hdf5 files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="auxiliary-tools.html">
   Auxiliary tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="direct-solution.html">
   Direct solution of linearized phonon Boltzmann equation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="wigner-solution.html">
   Solution of the Wigner transport equation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="workload-distribution.html">
   Workload distribution
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="cutoff-pair.html">
   Force constants calculation with cutoff pair-distance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="external-tools.html">
   External tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="phono3py-api.html">
   Phono3py API
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="phono3py-load.html">
   phono3py-load command
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tips.html">
   Tips
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="citation.html">
   How to cite phono3py
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="changelog.html">
   Change Log
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/command-options.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#input-cell-file-name">
   Input cell file name
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#c-cell-filename">
     <code class="docutils literal notranslate">
      <span class="pre">
       -c
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CELL_FILENAME
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculator-interface">
   Calculator interface
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#qe-calculator-qe">
     <code class="docutils literal notranslate">
      <span class="pre">
       --qe
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CALCULATOR
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       QE
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#crystal-calculator-crystal">
     <code class="docutils literal notranslate">
      <span class="pre">
       --crystal
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CALCULATOR
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       CRYSTAL
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#turbomole-calculator-turbomole">
     <code class="docutils literal notranslate">
      <span class="pre">
       --turbomole
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CALCULATOR
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       TURBOMOLE
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#utilities-to-create-default-input-files">
   Utilities to create default input files
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cf3-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cf3
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cf3-file-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cf3-file
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cf2-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cf2
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cfz-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cfz
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fs2f2-or-force-sets-to-forces-fc2-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --fs2f2
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --force-sets-to-forces-fc2
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cfs-or-create-force-sets-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cfs
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --create-force-sets
      </span>
     </code>
     (command option only)
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#supercell-and-primitive-cell">
   Supercell and primitive cell
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dim-dim">
     <code class="docutils literal notranslate">
      <span class="pre">
       --dim
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       DIM
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dim-fc2-dim-fc2">
     <code class="docutils literal notranslate">
      <span class="pre">
       --dim-fc2
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       DIM_FC2
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pa-primitive-axes-primitive-axes">
     <code class="docutils literal notranslate">
      <span class="pre">
       --pa
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --primitive-axes
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       PRIMITIVE_AXES
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#displacement-creation">
   Displacement creation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#d-create-displacements-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       -d
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CREATE_DISPLACEMENTS
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#amplitude-displacement-distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       --amplitude
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       DISPLACEMENT_DISTANCE
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#force-constants">
   Force constants
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cfc-or-compact-fc-compact-fc-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cfc
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --compact-fc
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       COMPACT_FC
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sym-fc-fc-symmetry-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --sym-fc
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       FC_SYMMETRY
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cutoff-fc3-or-cutoff-fc3-distance-cutoff-fc3-distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cutoff-fc3
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --cutoff-fc3-distance
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CUTOFF_FC3_DISTANCE
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cutoff-pair-or-cutoff-pair-distance-cutoff-pair-distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cutoff-pair
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --cutoff-pair-distance
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CUTOFF_PAIR_DISTANCE
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alm">
     <code class="docutils literal notranslate">
      <span class="pre">
       --alm
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reciprocal-space-sampling-mesh-and-grid-points-and-band-indices">
   Reciprocal space sampling mesh and grid points, and band indices
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mesh-mesh-or-mesh-numbers">
     <code class="docutils literal notranslate">
      <span class="pre">
       --mesh
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       MESH
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       MESH_NUMBERS
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gp-grid-points">
     <code class="docutils literal notranslate">
      <span class="pre">
       --gp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       GRID_POINTS
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ga-grid-addresses">
     <code class="docutils literal notranslate">
      <span class="pre">
       --ga
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       GRID_ADDRESSES
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bi-band-indices">
     <code class="docutils literal notranslate">
      <span class="pre">
       --bi
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       BAND_INDICES
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wgp-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --wgp
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#stp-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --stp
      </span>
     </code>
     (command option only)
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#brillouin-zone-integration">
   Brillouin zone integration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#thm-tetrahedron-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --thm
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       TETRAHEDRON
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sigma-sigma">
     <code class="docutils literal notranslate">
      <span class="pre">
       --sigma
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       SIGMA
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sigma-cutoff-sigma-cutoff-width">
     <code class="docutils literal notranslate">
      <span class="pre">
       --sigma-cutoff
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       SIGMA_CUTOFF_WIDTH
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#full-pp-full-pp-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --full-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       FULL_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#methods-to-solve-phonon-boltzmann-equation-and-wigner-formulation">
   Methods to solve phonon Boltzmann equation, and Wigner formulation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#br-bterta-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --br
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       BTERTA
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lbte-lbte-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --lbte
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       LBTE
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wigner">
     <code class="docutils literal notranslate">
      <span class="pre">
       --wigner
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scattering">
   Scattering
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#isotope-isotope-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --isotope
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       ISOTOPE
      </span>
      <span class="pre">
       =.TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mass-variances-or-mv-mass-variances">
     <code class="docutils literal notranslate">
      <span class="pre">
       --mass-variances
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --mv
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       MASS_VARIANCES
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#boundary-mfp-bmfp-boundary-mfp">
     <code class="docutils literal notranslate">
      <span class="pre">
       --boundary-mfp
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --bmfp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       BOUNDARY_MFP
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ave-pp-use-ave-pp-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --ave-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       USE_AVE_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#const-ave-pp-const-ave-pp-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --const-ave-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CONST_AVE_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nu-n-u-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --nu
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       N_U
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scattering-event-class-scattering-event-class">
     <code class="docutils literal notranslate">
      <span class="pre">
       --scattering-event-class
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       SCATTERING_EVENT_CLASS
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#temperature">
   Temperature
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ts-temperatures-temperatures">
     <code class="docutils literal notranslate">
      <span class="pre">
       --ts
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       TEMPERATURES
      </span>
     </code>
     ): Temperatures
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tmax-tmin-tstep-tmax-tmin-tstep">
     <code class="docutils literal notranslate">
      <span class="pre">
       --tmax
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --tmin
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --tstep
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       TMAX
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       TMIN
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       TSTEP
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#non-analytical-term-correction">
   Non-analytical term correction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nac-nac-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --nac
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       NAC
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q-direction-q-direction">
     <code class="docutils literal notranslate">
      <span class="pre">
       --q-direction
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       Q_DIRECTION
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#imaginary-and-real-parts-of-self-energy">
   Imaginary and real parts of self energy
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ise-imag-self-energy-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --ise
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       IMAG_SELF_ENERGY
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rse-real-self-energy-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --rse
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       REAL_SELF_ENERGY
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spectral-function">
   Spectral function
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spf-spectral-function-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --spf
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       SPECTRAL_FUNCTION
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#joint-density-of-states-jdos-and-weighted-jdos">
   Joint density of states (JDOS) and weighted-JDOS
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#jdos-joint-dos-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --jdos
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       JOINT_DOS
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sampling-frequency-for-distribution-functions">
   Sampling frequency for distribution functions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#num-freq-points-freq-pitch-num-frequency-points">
     <code class="docutils literal notranslate">
      <span class="pre">
       --num-freq-points
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --freq-pitch
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       NUM_FREQUENCY_POINTS
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mode-gruneisen-parameter-from-3rd-order-force-constants">
   Mode-Gruneisen parameter from 3rd order force constants
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gruneisen-gruneisen-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --gruneisen
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       GRUNEISEN
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#file-i-o">
   File I/O
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fc2-read-fc2-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --fc2
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_FC2
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fc3-read-fc3-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --fc3
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_FC3
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-gamma-write-gamma-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --write-gamma
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       WRITE_GAMMA
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-gamma-read-gamma-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --read-gamma
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_GAMMA
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-gamma-detail-write-gamma-detail-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --write-gamma-detail
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       WRITE_GAMMA_DETAIL
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-phonon-write-phonon-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --write-phonon
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       WRITE_PHONON
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-phonon-read-phonon-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --read-phonon
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_PHONON
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-pp-write-pp-true-and-read-pp-read-pp-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --write-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       WRITE_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     ) and
     <code class="docutils literal notranslate">
      <span class="pre">
       --read-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hdf5-compression-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --hdf5-compression
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#o-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       -o
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       -i
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#io-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --io
      </span>
     </code>
     (command option only)
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Command options / Setting tags</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#input-cell-file-name">
   Input cell file name
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#c-cell-filename">
     <code class="docutils literal notranslate">
      <span class="pre">
       -c
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CELL_FILENAME
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#calculator-interface">
   Calculator interface
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#qe-calculator-qe">
     <code class="docutils literal notranslate">
      <span class="pre">
       --qe
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CALCULATOR
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       QE
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#crystal-calculator-crystal">
     <code class="docutils literal notranslate">
      <span class="pre">
       --crystal
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CALCULATOR
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       CRYSTAL
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#turbomole-calculator-turbomole">
     <code class="docutils literal notranslate">
      <span class="pre">
       --turbomole
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CALCULATOR
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       TURBOMOLE
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#utilities-to-create-default-input-files">
   Utilities to create default input files
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cf3-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cf3
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cf3-file-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cf3-file
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cf2-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cf2
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cfz-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cfz
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fs2f2-or-force-sets-to-forces-fc2-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --fs2f2
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --force-sets-to-forces-fc2
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cfs-or-create-force-sets-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cfs
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --create-force-sets
      </span>
     </code>
     (command option only)
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#supercell-and-primitive-cell">
   Supercell and primitive cell
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dim-dim">
     <code class="docutils literal notranslate">
      <span class="pre">
       --dim
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       DIM
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dim-fc2-dim-fc2">
     <code class="docutils literal notranslate">
      <span class="pre">
       --dim-fc2
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       DIM_FC2
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pa-primitive-axes-primitive-axes">
     <code class="docutils literal notranslate">
      <span class="pre">
       --pa
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --primitive-axes
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       PRIMITIVE_AXES
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#displacement-creation">
   Displacement creation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#d-create-displacements-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       -d
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CREATE_DISPLACEMENTS
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#amplitude-displacement-distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       --amplitude
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       DISPLACEMENT_DISTANCE
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#force-constants">
   Force constants
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cfc-or-compact-fc-compact-fc-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cfc
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --compact-fc
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       COMPACT_FC
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sym-fc-fc-symmetry-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --sym-fc
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       FC_SYMMETRY
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cutoff-fc3-or-cutoff-fc3-distance-cutoff-fc3-distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cutoff-fc3
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --cutoff-fc3-distance
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CUTOFF_FC3_DISTANCE
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cutoff-pair-or-cutoff-pair-distance-cutoff-pair-distance">
     <code class="docutils literal notranslate">
      <span class="pre">
       --cutoff-pair
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --cutoff-pair-distance
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CUTOFF_PAIR_DISTANCE
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alm">
     <code class="docutils literal notranslate">
      <span class="pre">
       --alm
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#reciprocal-space-sampling-mesh-and-grid-points-and-band-indices">
   Reciprocal space sampling mesh and grid points, and band indices
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mesh-mesh-or-mesh-numbers">
     <code class="docutils literal notranslate">
      <span class="pre">
       --mesh
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       MESH
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       MESH_NUMBERS
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gp-grid-points">
     <code class="docutils literal notranslate">
      <span class="pre">
       --gp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       GRID_POINTS
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ga-grid-addresses">
     <code class="docutils literal notranslate">
      <span class="pre">
       --ga
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       GRID_ADDRESSES
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bi-band-indices">
     <code class="docutils literal notranslate">
      <span class="pre">
       --bi
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       BAND_INDICES
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wgp-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --wgp
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#stp-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --stp
      </span>
     </code>
     (command option only)
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#brillouin-zone-integration">
   Brillouin zone integration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#thm-tetrahedron-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --thm
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       TETRAHEDRON
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sigma-sigma">
     <code class="docutils literal notranslate">
      <span class="pre">
       --sigma
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       SIGMA
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sigma-cutoff-sigma-cutoff-width">
     <code class="docutils literal notranslate">
      <span class="pre">
       --sigma-cutoff
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       SIGMA_CUTOFF_WIDTH
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#full-pp-full-pp-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --full-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       FULL_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#methods-to-solve-phonon-boltzmann-equation-and-wigner-formulation">
   Methods to solve phonon Boltzmann equation, and Wigner formulation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#br-bterta-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --br
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       BTERTA
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lbte-lbte-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --lbte
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       LBTE
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#wigner">
     <code class="docutils literal notranslate">
      <span class="pre">
       --wigner
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scattering">
   Scattering
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#isotope-isotope-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --isotope
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       ISOTOPE
      </span>
      <span class="pre">
       =.TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mass-variances-or-mv-mass-variances">
     <code class="docutils literal notranslate">
      <span class="pre">
       --mass-variances
      </span>
     </code>
     or
     <code class="docutils literal notranslate">
      <span class="pre">
       --mv
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       MASS_VARIANCES
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#boundary-mfp-bmfp-boundary-mfp">
     <code class="docutils literal notranslate">
      <span class="pre">
       --boundary-mfp
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --bmfp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       BOUNDARY_MFP
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ave-pp-use-ave-pp-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --ave-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       USE_AVE_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#const-ave-pp-const-ave-pp-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --const-ave-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       CONST_AVE_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nu-n-u-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --nu
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       N_U
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scattering-event-class-scattering-event-class">
     <code class="docutils literal notranslate">
      <span class="pre">
       --scattering-event-class
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       SCATTERING_EVENT_CLASS
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#temperature">
   Temperature
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ts-temperatures-temperatures">
     <code class="docutils literal notranslate">
      <span class="pre">
       --ts
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       TEMPERATURES
      </span>
     </code>
     ): Temperatures
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tmax-tmin-tstep-tmax-tmin-tstep">
     <code class="docutils literal notranslate">
      <span class="pre">
       --tmax
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --tmin
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --tstep
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       TMAX
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       TMIN
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       TSTEP
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#non-analytical-term-correction">
   Non-analytical term correction
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nac-nac-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --nac
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       NAC
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#q-direction-q-direction">
     <code class="docutils literal notranslate">
      <span class="pre">
       --q-direction
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       Q_DIRECTION
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#imaginary-and-real-parts-of-self-energy">
   Imaginary and real parts of self energy
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ise-imag-self-energy-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --ise
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       IMAG_SELF_ENERGY
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#rse-real-self-energy-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --rse
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       REAL_SELF_ENERGY
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#spectral-function">
   Spectral function
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#spf-spectral-function-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --spf
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       SPECTRAL_FUNCTION
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#joint-density-of-states-jdos-and-weighted-jdos">
   Joint density of states (JDOS) and weighted-JDOS
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#jdos-joint-dos-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --jdos
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       JOINT_DOS
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sampling-frequency-for-distribution-functions">
   Sampling frequency for distribution functions
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#num-freq-points-freq-pitch-num-frequency-points">
     <code class="docutils literal notranslate">
      <span class="pre">
       --num-freq-points
      </span>
     </code>
     ,
     <code class="docutils literal notranslate">
      <span class="pre">
       --freq-pitch
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       NUM_FREQUENCY_POINTS
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mode-gruneisen-parameter-from-3rd-order-force-constants">
   Mode-Gruneisen parameter from 3rd order force constants
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gruneisen-gruneisen-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --gruneisen
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       GRUNEISEN
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#file-i-o">
   File I/O
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fc2-read-fc2-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --fc2
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_FC2
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fc3-read-fc3-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --fc3
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_FC3
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-gamma-write-gamma-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --write-gamma
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       WRITE_GAMMA
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-gamma-read-gamma-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --read-gamma
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_GAMMA
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-gamma-detail-write-gamma-detail-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --write-gamma-detail
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       WRITE_GAMMA_DETAIL
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-phonon-write-phonon-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --write-phonon
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       WRITE_PHONON
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-phonon-read-phonon-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --read-phonon
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_PHONON
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#write-pp-write-pp-true-and-read-pp-read-pp-true">
     <code class="docutils literal notranslate">
      <span class="pre">
       --write-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       WRITE_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     ) and
     <code class="docutils literal notranslate">
      <span class="pre">
       --read-pp
      </span>
     </code>
     (
     <code class="docutils literal notranslate">
      <span class="pre">
       READ_PP
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       .TRUE.
      </span>
     </code>
     )
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hdf5-compression-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --hdf5-compression
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#o-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       -o
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#i-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       -i
      </span>
     </code>
     (command option only)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#io-command-option-only">
     <code class="docutils literal notranslate">
      <span class="pre">
       --io
      </span>
     </code>
     (command option only)
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="command-options-setting-tags">
<span id="command-options"></span><h1>Command options / Setting tags<a class="headerlink" href="#command-options-setting-tags" title="Permalink to this headline">#</a></h1>
<p>Phono3py is operated with command options or with a configuration file that
contains setting tags. In this page, the command options are explained. Most of
command options have their respective setting tags.</p>
<p>A configuration file with setting tags like phonopy can be used instead of and
together with the command options. The setting tags are mostly equivalent to the
respective most command options, but when both are set simultaneously, the
command options are preferred. An example of configuration (e.g., saved in a
file <code class="docutils literal notranslate"><span class="pre">setting.conf</span></code>) is as follow:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">DIM</span> <span class="o">=</span> <span class="m">2</span> <span class="m">2</span> <span class="m">2</span>
<span class="nv">DIM_FC2</span> <span class="o">=</span> <span class="m">4</span> <span class="m">4</span> <span class="m">4</span>
<span class="nv">PRIMITIVE_AXES</span> <span class="o">=</span> <span class="m">0</span> <span class="m">1</span>/2 <span class="m">1</span>/2 <span class="m">1</span>/2 <span class="m">0</span> <span class="m">1</span>/2 <span class="m">1</span>/2 <span class="m">1</span>/2 <span class="m">0</span>
<span class="nv">MESH</span> <span class="o">=</span> <span class="m">11</span> <span class="m">11</span> <span class="m">11</span>
<span class="nv">BTERTA</span> <span class="o">=</span> .TRUE.
<span class="nv">NAC</span> <span class="o">=</span> .TRUE.
<span class="nv">READ_FC2</span> <span class="o">=</span> .TRUE.
<span class="nv">READ_FC3</span> <span class="o">=</span> .TRUE.
<span class="nv">CELL_FILENAME</span> <span class="o">=</span> POSCAR-unitcell
</pre></div>
</div>
<p>where the setting tag names are case insensitive. This is run by</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py setting.conf <span class="o">[</span>comannd options<span class="o">]</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py <span class="o">[</span>comannd options<span class="o">]</span> -- setting.conf
</pre></div>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#input-cell-file-name" id="id1">Input cell file name</a></p>
<ul>
<li><p><a class="reference internal" href="#c-cell-filename" id="id2"><code class="docutils literal notranslate"><span class="pre">-c</span></code> (<code class="docutils literal notranslate"><span class="pre">CELL_FILENAME</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#calculator-interface" id="id3">Calculator interface</a></p>
<ul>
<li><p><a class="reference internal" href="#qe-calculator-qe" id="id4"><code class="docutils literal notranslate"><span class="pre">--qe</span></code> (<code class="docutils literal notranslate"><span class="pre">CALCULATOR</span> <span class="pre">=</span> <span class="pre">QE</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#crystal-calculator-crystal" id="id5"><code class="docutils literal notranslate"><span class="pre">--crystal</span></code> (<code class="docutils literal notranslate"><span class="pre">CALCULATOR</span> <span class="pre">=</span> <span class="pre">CRYSTAL</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#turbomole-calculator-turbomole" id="id6"><code class="docutils literal notranslate"><span class="pre">--turbomole</span></code> (<code class="docutils literal notranslate"><span class="pre">CALCULATOR</span> <span class="pre">=</span> <span class="pre">TURBOMOLE</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#utilities-to-create-default-input-files" id="id7">Utilities to create default input files</a></p>
<ul>
<li><p><a class="reference internal" href="#cf3-command-option-only" id="id8"><code class="docutils literal notranslate"><span class="pre">--cf3</span></code> (command option only)</a></p></li>
<li><p><a class="reference internal" href="#cf3-file-command-option-only" id="id9"><code class="docutils literal notranslate"><span class="pre">--cf3-file</span></code> (command option only)</a></p></li>
<li><p><a class="reference internal" href="#cf2-command-option-only" id="id10"><code class="docutils literal notranslate"><span class="pre">--cf2</span></code> (command option only)</a></p></li>
<li><p><a class="reference internal" href="#cfz-command-option-only" id="id11"><code class="docutils literal notranslate"><span class="pre">--cfz</span></code> (command option only)</a></p></li>
<li><p><a class="reference internal" href="#fs2f2-or-force-sets-to-forces-fc2-command-option-only" id="id12"><code class="docutils literal notranslate"><span class="pre">--fs2f2</span></code> or <code class="docutils literal notranslate"><span class="pre">--force-sets-to-forces-fc2</span></code> (command option only)</a></p></li>
<li><p><a class="reference internal" href="#cfs-or-create-force-sets-command-option-only" id="id13"><code class="docutils literal notranslate"><span class="pre">--cfs</span></code> or <code class="docutils literal notranslate"><span class="pre">--create-force-sets</span></code> (command option only)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#supercell-and-primitive-cell" id="id14">Supercell and primitive cell</a></p>
<ul>
<li><p><a class="reference internal" href="#dim-dim" id="id15"><code class="docutils literal notranslate"><span class="pre">--dim</span></code> (<code class="docutils literal notranslate"><span class="pre">DIM</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#dim-fc2-dim-fc2" id="id16"><code class="docutils literal notranslate"><span class="pre">--dim-fc2</span></code> (<code class="docutils literal notranslate"><span class="pre">DIM_FC2</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#pa-primitive-axes-primitive-axes" id="id17"><code class="docutils literal notranslate"><span class="pre">--pa</span></code>, <code class="docutils literal notranslate"><span class="pre">--primitive-axes</span></code> (<code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXES</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#displacement-creation" id="id18">Displacement creation</a></p>
<ul>
<li><p><a class="reference internal" href="#d-create-displacements-true" id="id19"><code class="docutils literal notranslate"><span class="pre">-d</span></code> (<code class="docutils literal notranslate"><span class="pre">CREATE_DISPLACEMENTS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#amplitude-displacement-distance" id="id20"><code class="docutils literal notranslate"><span class="pre">--amplitude</span></code> (<code class="docutils literal notranslate"><span class="pre">DISPLACEMENT_DISTANCE</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#force-constants" id="id21">Force constants</a></p>
<ul>
<li><p><a class="reference internal" href="#cfc-or-compact-fc-compact-fc-true" id="id22"><code class="docutils literal notranslate"><span class="pre">--cfc</span></code> or <code class="docutils literal notranslate"><span class="pre">--compact-fc</span></code> (<code class="docutils literal notranslate"><span class="pre">COMPACT_FC</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#sym-fc-fc-symmetry-true" id="id23"><code class="docutils literal notranslate"><span class="pre">--sym-fc</span></code> (<code class="docutils literal notranslate"><span class="pre">FC_SYMMETRY</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#cutoff-fc3-or-cutoff-fc3-distance-cutoff-fc3-distance" id="id24"><code class="docutils literal notranslate"><span class="pre">--cutoff-fc3</span></code> or <code class="docutils literal notranslate"><span class="pre">--cutoff-fc3-distance</span></code> (<code class="docutils literal notranslate"><span class="pre">CUTOFF_FC3_DISTANCE</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#cutoff-pair-or-cutoff-pair-distance-cutoff-pair-distance" id="id25"><code class="docutils literal notranslate"><span class="pre">--cutoff-pair</span></code> or <code class="docutils literal notranslate"><span class="pre">--cutoff-pair-distance</span></code> (<code class="docutils literal notranslate"><span class="pre">CUTOFF_PAIR_DISTANCE</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#alm" id="id26"><code class="docutils literal notranslate"><span class="pre">--alm</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#reciprocal-space-sampling-mesh-and-grid-points-and-band-indices" id="id27">Reciprocal space sampling mesh and grid points, and band indices</a></p>
<ul>
<li><p><a class="reference internal" href="#mesh-mesh-or-mesh-numbers" id="id28"><code class="docutils literal notranslate"><span class="pre">--mesh</span></code> (<code class="docutils literal notranslate"><span class="pre">MESH</span></code> or <code class="docutils literal notranslate"><span class="pre">MESH_NUMBERS</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#gp-grid-points" id="id29"><code class="docutils literal notranslate"><span class="pre">--gp</span></code> (<code class="docutils literal notranslate"><span class="pre">GRID_POINTS</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#ga-grid-addresses" id="id30"><code class="docutils literal notranslate"><span class="pre">--ga</span></code> (<code class="docutils literal notranslate"><span class="pre">GRID_ADDRESSES</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#bi-band-indices" id="id31"><code class="docutils literal notranslate"><span class="pre">--bi</span></code> (<code class="docutils literal notranslate"><span class="pre">BAND_INDICES</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#wgp-command-option-only" id="id32"><code class="docutils literal notranslate"><span class="pre">--wgp</span></code> (command option only)</a></p></li>
<li><p><a class="reference internal" href="#stp-command-option-only" id="id33"><code class="docutils literal notranslate"><span class="pre">--stp</span></code> (command option only)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#brillouin-zone-integration" id="id34">Brillouin zone integration</a></p>
<ul>
<li><p><a class="reference internal" href="#thm-tetrahedron-true" id="id35"><code class="docutils literal notranslate"><span class="pre">--thm</span></code> (<code class="docutils literal notranslate"><span class="pre">TETRAHEDRON</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#sigma-sigma" id="id36"><code class="docutils literal notranslate"><span class="pre">--sigma</span></code> (<code class="docutils literal notranslate"><span class="pre">SIGMA</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#sigma-cutoff-sigma-cutoff-width" id="id37"><code class="docutils literal notranslate"><span class="pre">--sigma-cutoff</span></code> (<code class="docutils literal notranslate"><span class="pre">SIGMA_CUTOFF_WIDTH</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#full-pp-full-pp-true" id="id38"><code class="docutils literal notranslate"><span class="pre">--full-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">FULL_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#methods-to-solve-phonon-boltzmann-equation-and-wigner-formulation" id="id39">Methods to solve phonon Boltzmann equation, and Wigner formulation</a></p>
<ul>
<li><p><a class="reference internal" href="#br-bterta-true" id="id40"><code class="docutils literal notranslate"><span class="pre">--br</span></code> (<code class="docutils literal notranslate"><span class="pre">BTERTA</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#lbte-lbte-true" id="id41"><code class="docutils literal notranslate"><span class="pre">--lbte</span></code> (<code class="docutils literal notranslate"><span class="pre">LBTE</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#wigner" id="id42"><code class="docutils literal notranslate"><span class="pre">--wigner</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#scattering" id="id43">Scattering</a></p>
<ul>
<li><p><a class="reference internal" href="#isotope-isotope-true" id="id44"><code class="docutils literal notranslate"><span class="pre">--isotope</span></code> (<code class="docutils literal notranslate"><span class="pre">ISOTOPE</span> <span class="pre">=.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#mass-variances-or-mv-mass-variances" id="id45"><code class="docutils literal notranslate"><span class="pre">--mass-variances</span></code> or <code class="docutils literal notranslate"><span class="pre">--mv</span></code> (<code class="docutils literal notranslate"><span class="pre">MASS_VARIANCES</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#boundary-mfp-bmfp-boundary-mfp" id="id46"><code class="docutils literal notranslate"><span class="pre">--boundary-mfp</span></code>, <code class="docutils literal notranslate"><span class="pre">--bmfp</span></code> (<code class="docutils literal notranslate"><span class="pre">BOUNDARY_MFP</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#ave-pp-use-ave-pp-true" id="id47"><code class="docutils literal notranslate"><span class="pre">--ave-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">USE_AVE_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#const-ave-pp-const-ave-pp-true" id="id48"><code class="docutils literal notranslate"><span class="pre">--const-ave-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">CONST_AVE_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#nu-n-u-true" id="id49"><code class="docutils literal notranslate"><span class="pre">--nu</span></code> (<code class="docutils literal notranslate"><span class="pre">N_U</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#scattering-event-class-scattering-event-class" id="id50"><code class="docutils literal notranslate"><span class="pre">--scattering-event-class</span></code> (<code class="docutils literal notranslate"><span class="pre">SCATTERING_EVENT_CLASS</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#temperature" id="id51">Temperature</a></p>
<ul>
<li><p><a class="reference internal" href="#ts-temperatures-temperatures" id="id52"><code class="docutils literal notranslate"><span class="pre">--ts</span></code> (<code class="docutils literal notranslate"><span class="pre">TEMPERATURES</span></code>): Temperatures</a></p></li>
<li><p><a class="reference internal" href="#tmax-tmin-tstep-tmax-tmin-tstep" id="id53"><code class="docutils literal notranslate"><span class="pre">--tmax</span></code>, <code class="docutils literal notranslate"><span class="pre">--tmin</span></code>, <code class="docutils literal notranslate"><span class="pre">--tstep</span></code> (<code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#non-analytical-term-correction" id="id54">Non-analytical term correction</a></p>
<ul>
<li><p><a class="reference internal" href="#nac-nac-true" id="id55"><code class="docutils literal notranslate"><span class="pre">--nac</span></code> (<code class="docutils literal notranslate"><span class="pre">NAC</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#q-direction-q-direction" id="id56"><code class="docutils literal notranslate"><span class="pre">--q-direction</span></code> (<code class="docutils literal notranslate"><span class="pre">Q_DIRECTION</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#imaginary-and-real-parts-of-self-energy" id="id57">Imaginary and real parts of self energy</a></p>
<ul>
<li><p><a class="reference internal" href="#ise-imag-self-energy-true" id="id58"><code class="docutils literal notranslate"><span class="pre">--ise</span></code> (<code class="docutils literal notranslate"><span class="pre">IMAG_SELF_ENERGY</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#rse-real-self-energy-true" id="id59"><code class="docutils literal notranslate"><span class="pre">--rse</span></code> (<code class="docutils literal notranslate"><span class="pre">REAL_SELF_ENERGY</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#spectral-function" id="id60">Spectral function</a></p>
<ul>
<li><p><a class="reference internal" href="#spf-spectral-function-true" id="id61"><code class="docutils literal notranslate"><span class="pre">--spf</span></code> (<code class="docutils literal notranslate"><span class="pre">SPECTRAL_FUNCTION</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#joint-density-of-states-jdos-and-weighted-jdos" id="id62">Joint density of states (JDOS) and weighted-JDOS</a></p>
<ul>
<li><p><a class="reference internal" href="#jdos-joint-dos-true" id="id63"><code class="docutils literal notranslate"><span class="pre">--jdos</span></code> (<code class="docutils literal notranslate"><span class="pre">JOINT_DOS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#sampling-frequency-for-distribution-functions" id="id64">Sampling frequency for distribution functions</a></p>
<ul>
<li><p><a class="reference internal" href="#num-freq-points-freq-pitch-num-frequency-points" id="id65"><code class="docutils literal notranslate"><span class="pre">--num-freq-points</span></code>, <code class="docutils literal notranslate"><span class="pre">--freq-pitch</span></code> (<code class="docutils literal notranslate"><span class="pre">NUM_FREQUENCY_POINTS</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mode-gruneisen-parameter-from-3rd-order-force-constants" id="id66">Mode-Gruneisen parameter from 3rd order force constants</a></p>
<ul>
<li><p><a class="reference internal" href="#gruneisen-gruneisen-true" id="id67"><code class="docutils literal notranslate"><span class="pre">--gruneisen</span></code> (<code class="docutils literal notranslate"><span class="pre">GRUNEISEN</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#file-i-o" id="id68">File I/O</a></p>
<ul>
<li><p><a class="reference internal" href="#fc2-read-fc2-true" id="id69"><code class="docutils literal notranslate"><span class="pre">--fc2</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_FC2</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#fc3-read-fc3-true" id="id70"><code class="docutils literal notranslate"><span class="pre">--fc3</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_FC3</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#write-gamma-write-gamma-true" id="id71"><code class="docutils literal notranslate"><span class="pre">--write-gamma</span></code> (<code class="docutils literal notranslate"><span class="pre">WRITE_GAMMA</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#read-gamma-read-gamma-true" id="id72"><code class="docutils literal notranslate"><span class="pre">--read-gamma</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_GAMMA</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#write-gamma-detail-write-gamma-detail-true" id="id73"><code class="docutils literal notranslate"><span class="pre">--write-gamma-detail</span></code> (<code class="docutils literal notranslate"><span class="pre">WRITE_GAMMA_DETAIL</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#write-phonon-write-phonon-true" id="id74"><code class="docutils literal notranslate"><span class="pre">--write-phonon</span></code> (<code class="docutils literal notranslate"><span class="pre">WRITE_PHONON</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#read-phonon-read-phonon-true" id="id75"><code class="docutils literal notranslate"><span class="pre">--read-phonon</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_PHONON</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#write-pp-write-pp-true-and-read-pp-read-pp-true" id="id76"><code class="docutils literal notranslate"><span class="pre">--write-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">WRITE_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>) and <code class="docutils literal notranslate"><span class="pre">--read-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#hdf5-compression-command-option-only" id="id77"><code class="docutils literal notranslate"><span class="pre">--hdf5-compression</span></code> (command option only)</a></p></li>
<li><p><a class="reference internal" href="#o-command-option-only" id="id78"><code class="docutils literal notranslate"><span class="pre">-o</span></code> (command option only)</a></p></li>
<li><p><a class="reference internal" href="#i-command-option-only" id="id79"><code class="docutils literal notranslate"><span class="pre">-i</span></code> (command option only)</a></p></li>
<li><p><a class="reference internal" href="#io-command-option-only" id="id80"><code class="docutils literal notranslate"><span class="pre">--io</span></code> (command option only)</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="input-cell-file-name">
<h2><a class="toc-backref" href="#id1">Input cell file name</a><a class="headerlink" href="#input-cell-file-name" title="Permalink to this headline">#</a></h2>
<div class="section" id="c-cell-filename">
<h3><a class="toc-backref" href="#id2"><code class="docutils literal notranslate"><span class="pre">-c</span></code> (<code class="docutils literal notranslate"><span class="pre">CELL_FILENAME</span></code>)</a><a class="headerlink" href="#c-cell-filename" title="Permalink to this headline">#</a></h3>
<p>This specifies input unit cell filename.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py -c POSCAR-unitcell ... <span class="o">(</span>many options<span class="o">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="calculator-interface">
<h2><a class="toc-backref" href="#id3">Calculator interface</a><a class="headerlink" href="#calculator-interface" title="Permalink to this headline">#</a></h2>
<div class="section" id="qe-calculator-qe">
<h3><a class="toc-backref" href="#id4"><code class="docutils literal notranslate"><span class="pre">--qe</span></code> (<code class="docutils literal notranslate"><span class="pre">CALCULATOR</span> <span class="pre">=</span> <span class="pre">QE</span></code>)</a><a class="headerlink" href="#qe-calculator-qe" title="Permalink to this headline">#</a></h3>
<p>Quantum espresso (pw) interface is invoked. See the detail at
<a class="reference internal" href="qe.html#qe-interface"><span class="std std-ref">Quantum ESPRESSO (pw) &amp; phono3py calculation</span></a>.</p>
</div>
<div class="section" id="crystal-calculator-crystal">
<h3><a class="toc-backref" href="#id5"><code class="docutils literal notranslate"><span class="pre">--crystal</span></code> (<code class="docutils literal notranslate"><span class="pre">CALCULATOR</span> <span class="pre">=</span> <span class="pre">CRYSTAL</span></code>)</a><a class="headerlink" href="#crystal-calculator-crystal" title="Permalink to this headline">#</a></h3>
<p>CRYSTAL interface is invoked. See the detail at <a class="reference internal" href="crystal.html#crystal-interface"><span class="std std-ref">CRYSTAL &amp; phono3py calculation</span></a>.</p>
</div>
<div class="section" id="turbomole-calculator-turbomole">
<h3><a class="toc-backref" href="#id6"><code class="docutils literal notranslate"><span class="pre">--turbomole</span></code> (<code class="docutils literal notranslate"><span class="pre">CALCULATOR</span> <span class="pre">=</span> <span class="pre">TURBOMOLE</span></code>)</a><a class="headerlink" href="#turbomole-calculator-turbomole" title="Permalink to this headline">#</a></h3>
<p>TURBOMOLE interface is invoked. See the details at <a class="reference internal" href="turbomole.html#turbomole-interface"><span class="std std-ref">TURBOMOLE &amp; phono3py calculation</span></a>.</p>
</div>
</div>
<div class="section" id="utilities-to-create-default-input-files">
<h2><a class="toc-backref" href="#id7">Utilities to create default input files</a><a class="headerlink" href="#utilities-to-create-default-input-files" title="Permalink to this headline">#</a></h2>
<p>These options have no respective configuration file tags.</p>
<div class="section" id="cf3-command-option-only">
<span id="cf3-option"></span><h3><a class="toc-backref" href="#id8"><code class="docutils literal notranslate"><span class="pre">--cf3</span></code> (command option only)</a><a class="headerlink" href="#cf3-command-option-only" title="Permalink to this headline">#</a></h3>
<p>This is used to create <code class="docutils literal notranslate"><span class="pre">FORCES_FC3</span></code> from <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> and force
calculator outputs containing forces in supercells. <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> has to
be located at the current directory. Calculator interface has to be specified
except for VASP (default) case.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --cf3 disp-<span class="o">{</span><span class="m">00001</span>..00755<span class="o">}</span>/vasprun.xml
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --cf3 supercell_out/disp-<span class="o">{</span><span class="m">00001</span>..00111<span class="o">}</span>/Si.out
</pre></div>
</div>
</div>
<div class="section" id="cf3-file-command-option-only">
<span id="cf3-file-option"></span><h3><a class="toc-backref" href="#id9"><code class="docutils literal notranslate"><span class="pre">--cf3-file</span></code> (command option only)</a><a class="headerlink" href="#cf3-file-command-option-only" title="Permalink to this headline">#</a></h3>
<p>This is used to create <code class="docutils literal notranslate"><span class="pre">FORCES_FC3</span></code> from a text file containing a list of
calculator output file names. <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> has to be located at the
current directory. Calculator interface has to be specified except for VASP
(default) case.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --cf3-file file_list.dat
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">file_list.dat</span></code> contains file names that can be recognized from the
current directory and is expected to be like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>disp-00001/vasprun.xml
disp-00002/vasprun.xml
disp-00003/vasprun.xml
disp-00004/vasprun.xml
...
</pre></div>
</div>
<p>The order of the file names is important. This option may be useful to be used
together with <code class="docutils literal notranslate"><span class="pre">--cutoff-pair</span></code> option.</p>
</div>
<div class="section" id="cf2-command-option-only">
<span id="cf2-option"></span><h3><a class="toc-backref" href="#id10"><code class="docutils literal notranslate"><span class="pre">--cf2</span></code> (command option only)</a><a class="headerlink" href="#cf2-command-option-only" title="Permalink to this headline">#</a></h3>
<p>This is used to create <code class="docutils literal notranslate"><span class="pre">FORCES_FC2</span></code> similarly to <code class="docutils literal notranslate"><span class="pre">--cf3</span></code> option.
<code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> has to be located at the current directory. This is
optional. Calculator interface has to be specified except for VASP (default)
case. <code class="docutils literal notranslate"><span class="pre">FORCES_FC2</span></code> is necessary to run with <code class="docutils literal notranslate"><span class="pre">--dim-fc2</span></code> option.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --cf2 disp_fc2-<span class="o">{</span><span class="m">00001</span>..00002<span class="o">}</span>/vasprun.xml
</pre></div>
</div>
</div>
<div class="section" id="cfz-command-option-only">
<span id="cfz-option"></span><h3><a class="toc-backref" href="#id11"><code class="docutils literal notranslate"><span class="pre">--cfz</span></code> (command option only)</a><a class="headerlink" href="#cfz-command-option-only" title="Permalink to this headline">#</a></h3>
<p>This is used to create <code class="docutils literal notranslate"><span class="pre">FORCES_FC3</span></code> and <code class="docutils literal notranslate"><span class="pre">FORCES_FC2</span></code> subtracting residual forces
combined with <code class="docutils literal notranslate"><span class="pre">--cf3</span></code> and <code class="docutils literal notranslate"><span class="pre">--cf2</span></code>, respectively. Calculator interface has to be
specified except for VASP (default) case.</p>
<p>In the following example, it is supposed that <code class="docutils literal notranslate"><span class="pre">disp3-00000/vasprun.xml</span></code> and
<code class="docutils literal notranslate"><span class="pre">disp2-00000/vasprun.xml</span></code> contain the forces of the perfect supercells. In ideal
case, these forces are zero, but often they are not. Here, this is called
“residual forces”. Sometimes quality of force constants is improved in this way.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --cf3 disp3-<span class="o">{</span><span class="m">00001</span>..01254<span class="o">}</span>/vasprun.xml --cfz disp3-00000/vasprun.xml
% phono3py --cf2 disp2-<span class="o">{</span><span class="m">00001</span>..00006<span class="o">}</span>/vasprun.xml --cfz disp2-00000/vasprun.xml
</pre></div>
</div>
</div>
<div class="section" id="fs2f2-or-force-sets-to-forces-fc2-command-option-only">
<span id="fs2f2-option"></span><h3><a class="toc-backref" href="#id12"><code class="docutils literal notranslate"><span class="pre">--fs2f2</span></code> or <code class="docutils literal notranslate"><span class="pre">--force-sets-to-forces-fc2</span></code> (command option only)</a><a class="headerlink" href="#fs2f2-or-force-sets-to-forces-fc2-command-option-only" title="Permalink to this headline">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">FORCES_FC2</span></code> is created from phonopy’s <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> file. Necessary yaml lines
for <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> is displayed as text.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fs2f2
</pre></div>
</div>
</div>
<div class="section" id="cfs-or-create-force-sets-command-option-only">
<span id="cfs-option"></span><h3><a class="toc-backref" href="#id13"><code class="docutils literal notranslate"><span class="pre">--cfs</span></code> or <code class="docutils literal notranslate"><span class="pre">--create-force-sets</span></code> (command option only)</a><a class="headerlink" href="#cfs-or-create-force-sets-command-option-only" title="Permalink to this headline">#</a></h3>
<p>Phonopy’s <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> is created from <code class="docutils literal notranslate"><span class="pre">FORCES_FC3</span></code> and <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --cfs
</pre></div>
</div>
<p>In conjunction with <a class="reference internal" href="#dim-fc2-option"><span class="std std-ref">–dim-fc2</span></a>, phonopy’s <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> is
created from <code class="docutils literal notranslate"><span class="pre">FORCES_FC2</span></code> and <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> instead of <code class="docutils literal notranslate"><span class="pre">FORCES_FC3</span></code> and
<code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --cfs --dim-fc2<span class="o">=</span><span class="s2">&quot;x x x&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="supercell-and-primitive-cell">
<h2><a class="toc-backref" href="#id14">Supercell and primitive cell</a><a class="headerlink" href="#supercell-and-primitive-cell" title="Permalink to this headline">#</a></h2>
<div class="section" id="dim-dim">
<span id="dim-option"></span><h3><a class="toc-backref" href="#id15"><code class="docutils literal notranslate"><span class="pre">--dim</span></code> (<code class="docutils literal notranslate"><span class="pre">DIM</span></code>)</a><a class="headerlink" href="#dim-dim" title="Permalink to this headline">#</a></h3>
<p>Supercell dimension is specified. See the detail at
<a class="reference external" href="http://phonopy.github.io/phonopy/setting-tags.html#dim">http://phonopy.github.io/phonopy/setting-tags.html#dim</a>. When a proper
<code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> exists in the current directory, this is unnecessary to be
specified.</p>
</div>
<div class="section" id="dim-fc2-dim-fc2">
<span id="dim-fc2-option"></span><h3><a class="toc-backref" href="#id16"><code class="docutils literal notranslate"><span class="pre">--dim-fc2</span></code> (<code class="docutils literal notranslate"><span class="pre">DIM_FC2</span></code>)</a><a class="headerlink" href="#dim-fc2-dim-fc2" title="Permalink to this headline">#</a></h3>
<p>Supercell dimension for 2nd order force constants (for harmonic phonons) is
specified. This is optional. When a proper <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> exists in the
current directory, this is unnecessary to be specified.</p>
<p>A larger and different supercell size for 2nd order force constants than that
for 3rd order force constants can be specified with this option. Often
interaction between a pair of atoms has longer range in real space than
interaction among three atoms. Therefore to reduce computational demand,
choosing larger supercell size only for 2nd order force constants may be a good
idea.</p>
<p>Using this option with <code class="docutils literal notranslate"><span class="pre">-d</span></code> option, the structure files (e.g. <code class="docutils literal notranslate"><span class="pre">POSCAR_FC2-xxxxx</span></code>
or equivalent files for the other interfaces) and <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> are
created. These are used to calculate 2nd order force constants for the larger
supercell size and these force calculations have to be done in addition to the
usual force calculations for 3rd order force constants.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py -d --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --dim-fc2<span class="o">=</span><span class="s2">&quot;4 4 4&quot;</span> -c POSCAR-unitcell
</pre></div>
</div>
<p>After the force calculations, <code class="docutils literal notranslate"><span class="pre">--cf2</span></code> option is used to create <code class="docutils literal notranslate"><span class="pre">FORCES_FC2</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --cf2 disp-<span class="o">{</span><span class="m">001</span>,002<span class="o">}</span>/vasprun.xml
</pre></div>
</div>
<p>To calculate 2nd order force constants for the larger supercell size,
<code class="docutils literal notranslate"><span class="pre">FORCES_FC2</span></code> and <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> are necessary. Whenever running phono3py
for the larger 2nd order force constants, <code class="docutils literal notranslate"><span class="pre">--dim-fc2</span></code> option has to be
specified. <code class="docutils literal notranslate"><span class="pre">fc2.hdf5</span></code> created as a result of running phono3py contains the 2nd
order force constants with larger supercell size. The filename is the same as
that created in the usual phono3py run without <code class="docutils literal notranslate"><span class="pre">--dim-fc2</span></code> option.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --dim_fc2<span class="o">=</span><span class="s2">&quot;4 4 4&quot;</span> -c POSCAR-unitcell ... <span class="o">(</span>many options<span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="pa-primitive-axes-primitive-axes">
<span id="pa-option"></span><h3><a class="toc-backref" href="#id17"><code class="docutils literal notranslate"><span class="pre">--pa</span></code>, <code class="docutils literal notranslate"><span class="pre">--primitive-axes</span></code> (<code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXES</span></code>)</a><a class="headerlink" href="#pa-primitive-axes-primitive-axes" title="Permalink to this headline">#</a></h3>
<p>Transformation matrix from a non-primitive cell to the primitive cell. See
phonopy <code class="docutils literal notranslate"><span class="pre">PRIMITIVE_AXES</span></code> tag (<code class="docutils literal notranslate"><span class="pre">--pa</span></code> option) at
<a class="reference external" href="http://phonopy.github.io/phonopy/setting-tags.html#primitive-axis">http://phonopy.github.io/phonopy/setting-tags.html#primitive-axis</a>. When a proper
<code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> exists in the current directory, this is unnecessary to be
specified.</p>
</div>
</div>
<div class="section" id="displacement-creation">
<h2><a class="toc-backref" href="#id18">Displacement creation</a><a class="headerlink" href="#displacement-creation" title="Permalink to this headline">#</a></h2>
<div class="section" id="d-create-displacements-true">
<span id="create-displacements-option"></span><h3><a class="toc-backref" href="#id19"><code class="docutils literal notranslate"><span class="pre">-d</span></code> (<code class="docutils literal notranslate"><span class="pre">CREATE_DISPLACEMENTS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#d-create-displacements-true" title="Permalink to this headline">#</a></h3>
<p>Supercell with displacements are created. Using with <code class="docutils literal notranslate"><span class="pre">--amplitude</span></code> option,
atomic displacement distances are controlled. With this option, files for
supercells with displacements and <code class="docutils literal notranslate"><span class="pre">phono3py_disp.yaml</span></code> file are created. <code class="docutils literal notranslate"><span class="pre">--pa</span></code>
should be specified if the input unit cell structure is not a primitive cell,
e.g., <code class="docutils literal notranslate"><span class="pre">--pa=&quot;F&quot;</span></code> if the input unit cell has F-centring.</p>
</div>
<div class="section" id="amplitude-displacement-distance">
<span id="amplitude-option"></span><h3><a class="toc-backref" href="#id20"><code class="docutils literal notranslate"><span class="pre">--amplitude</span></code> (<code class="docutils literal notranslate"><span class="pre">DISPLACEMENT_DISTANCE</span></code>)</a><a class="headerlink" href="#amplitude-displacement-distance" title="Permalink to this headline">#</a></h3>
<p>Atomic displacement distance is specified. This value may be increased for the
weak interaction systems and descreased when the force calculator is numerically
very accurate.</p>
<p>The default value depends on calculator. See
<a class="reference internal" href="interfaces.html#default-displacement-distance-for-calculator"><span class="std std-ref">Default displacement distance created</span></a>.</p>
</div>
</div>
<div class="section" id="force-constants">
<h2><a class="toc-backref" href="#id21">Force constants</a><a class="headerlink" href="#force-constants" title="Permalink to this headline">#</a></h2>
<div class="section" id="cfc-or-compact-fc-compact-fc-true">
<span id="compact-fc-option"></span><h3><a class="toc-backref" href="#id22"><code class="docutils literal notranslate"><span class="pre">--cfc</span></code> or <code class="docutils literal notranslate"><span class="pre">--compact-fc</span></code> (<code class="docutils literal notranslate"><span class="pre">COMPACT_FC</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#cfc-or-compact-fc-compact-fc-true" title="Permalink to this headline">#</a></h3>
<p>When creating force constants from <code class="docutils literal notranslate"><span class="pre">FORCES_FC3</span></code> and/or <code class="docutils literal notranslate"><span class="pre">FORCES_FC2</span></code>, force
constants that use smaller data size are created. The shape of the data array is
<code class="docutils literal notranslate"><span class="pre">(num_patom,</span> <span class="pre">num_satom)</span></code> for fc2 and <code class="docutils literal notranslate"><span class="pre">(num_patom,</span> <span class="pre">num_satom,</span> <span class="pre">num_satom)</span></code> for
fc3, where <code class="docutils literal notranslate"><span class="pre">num_patom</span></code> and <code class="docutils literal notranslate"><span class="pre">num_satom</span></code> are the numbers of atoms in primtive cell
and supercell. In the full size force constants case, <code class="docutils literal notranslate"><span class="pre">num_patom</span></code> is replaced by
<code class="docutils literal notranslate"><span class="pre">num_satom</span></code>. Therefore if the supercell dimension is large, this reduction of
data size becomes large. If the input crystal structure has centring
<a class="reference internal" href="#pa-option"><span class="std std-ref">–pa</span></a> is necessary to have smallest data size. In this case,
<code class="docutils literal notranslate"><span class="pre">--pa</span></code> option has to be specified on reading. Otherwise phono3py can recognize
if <code class="docutils literal notranslate"><span class="pre">fc2.hdf5</span></code> and <code class="docutils literal notranslate"><span class="pre">fc3.hdf5</span></code> are compact or full automatically. When using with
<code class="docutils literal notranslate"><span class="pre">--sym-fc</span></code>, the calculated results will become slightly different due to
imperfect symmetrization scheme that phono3py employs.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --cfc --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> -c POSCAR-unitcell
</pre></div>
</div>
</div>
<div class="section" id="sym-fc-fc-symmetry-true">
<span id="symmetrization-option"></span><h3><a class="toc-backref" href="#id23"><code class="docutils literal notranslate"><span class="pre">--sym-fc</span></code> (<code class="docutils literal notranslate"><span class="pre">FC_SYMMETRY</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#sym-fc-fc-symmetry-true" title="Permalink to this headline">#</a></h3>
<p>Second- and third-order force constants are symmetrized. The index exchange of
real space force constantsand translational invariance symmetry are applied in a
simple way. This symmetrization just removes drift force constants evenly from
all elements and then applies averaging index-exchange equivalent elements.
Therefore the different symmetries are not simultaneously enforced. For better
symmetrization, it is recommended to use an external force constants calculator
like ALM.</p>
<p>The symmetrizations for the second and third orders can be independently applied
by <code class="docutils literal notranslate"><span class="pre">--sym-fc2</span></code> (<code class="docutils literal notranslate"><span class="pre">SYMMETRIZE_FC2</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>) and <code class="docutils literal notranslate"><span class="pre">--sym-fc3r</span></code>
(<code class="docutils literal notranslate"><span class="pre">SYMMETRIZE_FC3</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>), , respectively.</p>
</div>
<div class="section" id="cutoff-fc3-or-cutoff-fc3-distance-cutoff-fc3-distance">
<h3><a class="toc-backref" href="#id24"><code class="docutils literal notranslate"><span class="pre">--cutoff-fc3</span></code> or <code class="docutils literal notranslate"><span class="pre">--cutoff-fc3-distance</span></code> (<code class="docutils literal notranslate"><span class="pre">CUTOFF_FC3_DISTANCE</span></code>)</a><a class="headerlink" href="#cutoff-fc3-or-cutoff-fc3-distance-cutoff-fc3-distance" title="Permalink to this headline">#</a></h3>
<p>This option is <strong>not</strong> used to reduce number of supercells with displacements,
but this option is used to set zero in elements of given third-order force
constants. The zero elements are selected by the condition that any
pair-distance of atoms in each atom triplet is larger than the specified cut-off
distance.</p>
<p>If one wants to reduce number of supercells, the first choice is to reduce the
supercell size and the second choice is using <code class="docutils literal notranslate"><span class="pre">--cutoff-pair</span></code> option.</p>
</div>
<div class="section" id="cutoff-pair-or-cutoff-pair-distance-cutoff-pair-distance">
<span id="cutoff-pair-option"></span><h3><a class="toc-backref" href="#id25"><code class="docutils literal notranslate"><span class="pre">--cutoff-pair</span></code> or <code class="docutils literal notranslate"><span class="pre">--cutoff-pair-distance</span></code> (<code class="docutils literal notranslate"><span class="pre">CUTOFF_PAIR_DISTANCE</span></code>)</a><a class="headerlink" href="#cutoff-pair-or-cutoff-pair-distance-cutoff-pair-distance" title="Permalink to this headline">#</a></h3>
<p>This option is only used together with <code class="docutils literal notranslate"><span class="pre">-d</span></code> option.</p>
<p>A cutoff pair-distance in a supercell is used to reduce the number of necessary
supercells with displacements to obtain third order force constants. As the
drawback, a certain number of third-order-force-constants elements are abandoned
or computed with less numerical accuracy. More details are found at
<a class="reference internal" href="cutoff-pair.html#command-cutoff-pair"><span class="std std-ref">Force constants calculation with cutoff pair-distance</span></a>.</p>
</div>
<div class="section" id="alm">
<h3><a class="toc-backref" href="#id26"><code class="docutils literal notranslate"><span class="pre">--alm</span></code></a><a class="headerlink" href="#alm" title="Permalink to this headline">#</a></h3>
<p>This invokes ALM as the force constants calculator for fc2 and fc3. See the
detail at
<a class="reference external" href="https://phonopy.github.io/phonopy/setting-tags.html#alm">phonopy documentaton</a>.
This option is useful for fitting random displacement dataset or MD data to
force constants. Phono3py doesn’t provide command-line interface to generate
random displacements. Instead simply
<a class="reference external" href="https://phonopy.github.io/phonopy/setting-tags.html#random-displacements">phonopy can be used for this purpose</a>,
because <code class="docutils literal notranslate"><span class="pre">FORCE_SETS</span></code> in the type-II format obtained using phonopy can be used as
<code class="docutils literal notranslate"><span class="pre">FORCES_FC3</span></code> and <code class="docutils literal notranslate"><span class="pre">FORCES_FC2</span></code> just renaming the file name.</p>
</div>
</div>
<div class="section" id="reciprocal-space-sampling-mesh-and-grid-points-and-band-indices">
<h2><a class="toc-backref" href="#id27">Reciprocal space sampling mesh and grid points, and band indices</a><a class="headerlink" href="#reciprocal-space-sampling-mesh-and-grid-points-and-band-indices" title="Permalink to this headline">#</a></h2>
<div class="section" id="mesh-mesh-or-mesh-numbers">
<h3><a class="toc-backref" href="#id28"><code class="docutils literal notranslate"><span class="pre">--mesh</span></code> (<code class="docutils literal notranslate"><span class="pre">MESH</span></code> or <code class="docutils literal notranslate"><span class="pre">MESH_NUMBERS</span></code>)</a><a class="headerlink" href="#mesh-mesh-or-mesh-numbers" title="Permalink to this headline">#</a></h3>
<p>Mesh sampling grids in reciprocal space are generated with the specified
numbers. This mesh is made along reciprocal axes and is always Gamma-centered.
Except for that this mesh is always Gamma-centered, this works in the same way
as written
<a class="reference external" href="https://phonopy.github.io/phonopy/setting-tags.html#mesh-mp-or-mesh-numbers">here</a>.</p>
</div>
<div class="section" id="gp-grid-points">
<span id="gp-option"></span><h3><a class="toc-backref" href="#id29"><code class="docutils literal notranslate"><span class="pre">--gp</span></code> (<code class="docutils literal notranslate"><span class="pre">GRID_POINTS</span></code>)</a><a class="headerlink" href="#gp-grid-points" title="Permalink to this headline">#</a></h3>
<p>Grid points are specified by their unique indices, e.g., for selecting the
q-points where imaginary parts of self energees are calculated. For thermal
conductivity calculation, this can be used to distribute its calculation over
q-points (see <a class="reference internal" href="workload-distribution.html#workload-distribution"><span class="std std-ref">Workload distribution</span></a>).</p>
<p>Indices of grid points are specified by space or comma (<code class="docutils literal notranslate"><span class="pre">,</span></code>) separated numbers.
The mapping table between grid points to its indices is obtained by running with
<code class="docutils literal notranslate"><span class="pre">--loglevel=2</span></code> option.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> -c POSCAR-unitcell --mesh<span class="o">=</span><span class="s2">&quot;19 19 19&quot;</span> --fc3 --fc2 --br --write-gamma --gp<span class="o">=</span><span class="s2">&quot;0 1 2 3 4 5&quot;</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">--gp=&quot;0</span> <span class="pre">1</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">5&quot;</span></code> can be also written <code class="docutils literal notranslate"><span class="pre">--gp=&quot;0,1,2,3,4,5&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">--ga</span></code>
option below can be used similarly for the same purpose.</p>
</div>
<div class="section" id="ga-grid-addresses">
<span id="ga-option"></span><h3><a class="toc-backref" href="#id30"><code class="docutils literal notranslate"><span class="pre">--ga</span></code> (<code class="docutils literal notranslate"><span class="pre">GRID_ADDRESSES</span></code>)</a><a class="headerlink" href="#ga-grid-addresses" title="Permalink to this headline">#</a></h3>
<p>This is used to specify grid points like <code class="docutils literal notranslate"><span class="pre">--gp</span></code> option but in their addresses
represented by integer numbers. For example with <code class="docutils literal notranslate"><span class="pre">--mesh=&quot;16</span> <span class="pre">16</span> <span class="pre">16&quot;</span></code>, a q-point
of (0.5, 0.5, 0.5) is given by <code class="docutils literal notranslate"><span class="pre">--ga=&quot;8</span> <span class="pre">8</span> <span class="pre">8&quot;</span></code>. The values have to be integers.
If you want to specify the point on a path,
<code class="docutils literal notranslate"><span class="pre">--ga=&quot;0</span> <span class="pre">0</span> <span class="pre">0</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">1</span> <span class="pre">2</span> <span class="pre">2</span> <span class="pre">2</span> <span class="pre">3</span> <span class="pre">3</span> <span class="pre">3</span> <span class="pre">...&quot;</span></code>, where each three values are recogninzed as
a grid point. The grid points given by <code class="docutils literal notranslate"><span class="pre">--ga</span></code> option are translated to grid
point indices as given by <code class="docutils literal notranslate"><span class="pre">--gp</span></code> option, and the values given by <code class="docutils literal notranslate"><span class="pre">--ga</span></code> option
will not be shown in log files.</p>
</div>
<div class="section" id="bi-band-indices">
<span id="bi-option"></span><h3><a class="toc-backref" href="#id31"><code class="docutils literal notranslate"><span class="pre">--bi</span></code> (<code class="docutils literal notranslate"><span class="pre">BAND_INDICES</span></code>)</a><a class="headerlink" href="#bi-band-indices" title="Permalink to this headline">#</a></h3>
<p>Band indices are specified. The calculated values at indices separated by space
are averaged, and those separated by comma are separately calculated. The output
file name will be, e.g., <code class="docutils literal notranslate"><span class="pre">gammas-mxxx-gxx(-sx)-bx.dat</span></code> where <code class="docutils literal notranslate"><span class="pre">bxbx...</span></code> shows the
band indices where the values are calcualted and summed and averaged over those
bands.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc3 --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --mesh<span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> -c POSCAR-unitcell --nac --gp<span class="o">=</span><span class="s2">&quot;34&quot;</span> --bi<span class="o">=</span><span class="s2">&quot;4 5, 6&quot;</span>
</pre></div>
</div>
<p>This option may be also useful to distribute the computational demand such like
that the unit cell is large and the calculation of phonon-phonon interaction is
heavy.</p>
</div>
<div class="section" id="wgp-command-option-only">
<span id="wgp-option"></span><h3><a class="toc-backref" href="#id32"><code class="docutils literal notranslate"><span class="pre">--wgp</span></code> (command option only)</a><a class="headerlink" href="#wgp-command-option-only" title="Permalink to this headline">#</a></h3>
<p>Irreducible grid point indices and related information are written into
<code class="docutils literal notranslate"><span class="pre">ir_grid_points.yaml</span></code>. This information may be used when we want to distribute
thermal conductivity calculation into small pieces or to find specific grid
points to calculate imaginary part of self energy, for which
<a class="reference internal" href="#gp-option"><span class="std std-ref">–gp option</span></a> can be used to specify the grid point indices.</p>
<p><code class="docutils literal notranslate"><span class="pre">grid_address-mxxx.hdf5</span></code> is also written. This file contains all the grid points
and their grid addresses in integers. Q-points corresponding to grid points are
calculated divided these integers by sampling mesh numbers for respective
reciprocal axes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> -c POSCAR-unitcell --mesh<span class="o">=</span><span class="s2">&quot;19 19 19&quot;</span> --wgp
</pre></div>
</div>
</div>
<div class="section" id="stp-command-option-only">
<span id="stp-option"></span><h3><a class="toc-backref" href="#id33"><code class="docutils literal notranslate"><span class="pre">--stp</span></code> (command option only)</a><a class="headerlink" href="#stp-command-option-only" title="Permalink to this headline">#</a></h3>
<p>Numbers of q-point triplets to be calculated for irreducible grid points for
specified sampling mesh numbers are shown. This can be used to estimate how
large a calculation is. Only those for specific grid points are shown by using
with <code class="docutils literal notranslate"><span class="pre">--gp</span></code> or <code class="docutils literal notranslate"><span class="pre">--ga</span></code> option.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> -c POSCAR-unitcell --mesh<span class="o">=</span><span class="s2">&quot;19 19 19&quot;</span> --stp --gp <span class="m">20</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="brillouin-zone-integration">
<h2><a class="toc-backref" href="#id34">Brillouin zone integration</a><a class="headerlink" href="#brillouin-zone-integration" title="Permalink to this headline">#</a></h2>
<div class="section" id="thm-tetrahedron-true">
<span id="thm-option"></span><h3><a class="toc-backref" href="#id35"><code class="docutils literal notranslate"><span class="pre">--thm</span></code> (<code class="docutils literal notranslate"><span class="pre">TETRAHEDRON</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#thm-tetrahedron-true" title="Permalink to this headline">#</a></h3>
<p>Tetrahedron method is used for calculation of imaginary part of self energy.
This is the default option. Therefore it is not necessary to specify this unless
both results by tetrahedron method and smearing method in one time execution are
expected.</p>
</div>
<div class="section" id="sigma-sigma">
<span id="sigma-option"></span><h3><a class="toc-backref" href="#id36"><code class="docutils literal notranslate"><span class="pre">--sigma</span></code> (<code class="docutils literal notranslate"><span class="pre">SIGMA</span></code>)</a><a class="headerlink" href="#sigma-sigma" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(\sigma\)</span> value of Gaussian function for smearing when calculating imaginary part
of self energy. See the detail at <a class="reference internal" href="tips.html#brillouinzone-sum"><span class="std std-ref">Brillouin zone summation</span></a>.</p>
<p>Multiple <span class="math notranslate nohighlight">\(\sigma\)</span> values are also specified by space separated numerical values.
This is used when we want to test several <span class="math notranslate nohighlight">\(\sigma\)</span> values simultaneously.</p>
</div>
<div class="section" id="sigma-cutoff-sigma-cutoff-width">
<span id="sigma-cutoff-option"></span><h3><a class="toc-backref" href="#id37"><code class="docutils literal notranslate"><span class="pre">--sigma-cutoff</span></code> (<code class="docutils literal notranslate"><span class="pre">SIGMA_CUTOFF_WIDTH</span></code>)</a><a class="headerlink" href="#sigma-cutoff-sigma-cutoff-width" title="Permalink to this headline">#</a></h3>
<p>The tails of the Gaussian functions that are used to replace delta functions in
the equation shown at <a class="reference internal" href="#full-pp-option"><span class="std std-ref">–full-pp</span></a> are cut with this
option. The value is specified in number of standard deviation.
<code class="docutils literal notranslate"><span class="pre">--sigma-cutoff=5</span></code> gives the Gaussian functions to be cut at <span class="math notranslate nohighlight">\(5\sigma\)</span>. Using
this option scarifies the numerical accuracy. So the number has to be carefully
tested. But computation of phonon-phonon interaction strength becomes much
faster in exchange for it.</p>
</div>
<div class="section" id="full-pp-full-pp-true">
<span id="full-pp-option"></span><h3><a class="toc-backref" href="#id38"><code class="docutils literal notranslate"><span class="pre">--full-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">FULL_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#full-pp-full-pp-true" title="Permalink to this headline">#</a></h3>
<p>For thermal conductivity calculation using the linear tetrahedron method (from
version 1.10.5) and smearing method with <code class="docutils literal notranslate"><span class="pre">--simga-cutoff</span></code> (from version 1.12.3),
only necessary elements (i.e., that have non-zero delta functions) of
phonon-phonon interaction strength,
<span class="math notranslate nohighlight">\(\bigl|\Phi_{-\lambda\lambda'\lambda''}\bigl|^2\)</span>, is calculated due to delta
functions in calculation of <span class="math notranslate nohighlight">\(\Gamma_\lambda(\omega)\)</span>,</p>
<div class="math notranslate nohighlight">
\[
\Gamma_\lambda(\omega) = \frac{18\pi}{\hbar^2}
 \sum_{\lambda' \lambda''}
 \bigl|\Phi_{-\lambda\lambda'\lambda''}\bigl|^2
 \left\{(n_{\lambda'}+ n_{\lambda''}+1)
  \delta(\omega-\omega_{\lambda'}-\omega_{\lambda''}) \right.
  + (n_{\lambda'}-n_{\lambda''})
 \left[\delta(\omega+\omega_{\lambda'}-\omega_{\lambda''})
- \left. \delta(\omega-\omega_{\lambda'}+\omega_{\lambda''})
\right]\right\}.
\]</div>
<p>But using this option, full elements of phonon-phonon interaction strength are
calculated and averaged phonon-phonon interaction strength (<span class="math notranslate nohighlight">\(P_{\mathbf{q}j}\)</span>,
see <a class="reference internal" href="#ave-pp-option"><span class="std std-ref">–ave-pp</span></a>) is also given and stored.</p>
</div>
</div>
<div class="section" id="methods-to-solve-phonon-boltzmann-equation-and-wigner-formulation">
<span id="ltc-options"></span><h2><a class="toc-backref" href="#id39">Methods to solve phonon Boltzmann equation, and Wigner formulation</a><a class="headerlink" href="#methods-to-solve-phonon-boltzmann-equation-and-wigner-formulation" title="Permalink to this headline">#</a></h2>
<div class="section" id="br-bterta-true">
<h3><a class="toc-backref" href="#id40"><code class="docutils literal notranslate"><span class="pre">--br</span></code> (<code class="docutils literal notranslate"><span class="pre">BTERTA</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#br-bterta-true" title="Permalink to this headline">#</a></h3>
<p>Run calculation of lattice thermal conductivity tensor with the single mode
relaxation time approximation (RTA) and linearized phonon Boltzmann equation.
Without specifying <code class="docutils literal notranslate"><span class="pre">--gp</span></code> (or <code class="docutils literal notranslate"><span class="pre">--ga</span></code>) option, all necessary phonon lifetime
calculations for grid points are sequentially executed and then thermal
conductivity is calculated under RTA. The thermal conductivity and many related
properties are written into <code class="docutils literal notranslate"><span class="pre">kappa-mxxx.hdf5</span></code>.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">--gp</span></code> (or <code class="docutils literal notranslate"><span class="pre">--ga</span></code>) option, phonon lifetimes on the specified grid points
are calculated. To save the results, <code class="docutils literal notranslate"><span class="pre">--write-gamma</span></code> option has to be specified
and the physical properties belonging to the grid points are written into
<code class="docutils literal notranslate"><span class="pre">kappa-mxxx-gx(-sx).hdf5</span></code>.</p>
</div>
<div class="section" id="lbte-lbte-true">
<h3><a class="toc-backref" href="#id41"><code class="docutils literal notranslate"><span class="pre">--lbte</span></code> (<code class="docutils literal notranslate"><span class="pre">LBTE</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#lbte-lbte-true" title="Permalink to this headline">#</a></h3>
<p>Run calculation of lattice thermal conductivity tensor with a direct solution of
linearized phonon Boltzmann equation. The basis usage of this option is
equivalent to that of <code class="docutils literal notranslate"><span class="pre">--br</span></code>. More detail is documented at
<a class="reference internal" href="direct-solution.html#direct-solution"><span class="std std-ref">Direct solution of linearized phonon Boltzmann equation</span></a>.</p>
</div>
<div class="section" id="wigner">
<h3><a class="toc-backref" href="#id42"><code class="docutils literal notranslate"><span class="pre">--wigner</span></code></a><a class="headerlink" href="#wigner" title="Permalink to this headline">#</a></h3>
<p>Run calculation of lattice thermal conductivity tensor computing the coherences (wave-like) contribution
to the thermal conductivity, obtained solving the Wigner transport equation equation.
This option can be combined with <code class="docutils literal notranslate"><span class="pre">--lbte</span></code> or <code class="docutils literal notranslate"><span class="pre">--br</span></code>; in the former case the populations
conductivity (particle-like, equivalent to the conductivity obtained solving the LBTE) is computed exactly,
in the latter case the populations conductivity is
computed in the relaxation-time approximation (RTA).
The coherences contribution to the conductivity is always computed exactly.
The coherences conductivity is usually non-negligible compared to the particle-like conductivity in materials
with ultralow or glass-like conductivity.
More details can be found at <a class="reference internal" href="wigner-solution.html#wigner-solution"><span class="std std-ref">Solution of the Wigner transport equation</span></a>.</p>
</div>
</div>
<div class="section" id="scattering">
<h2><a class="toc-backref" href="#id43">Scattering</a><a class="headerlink" href="#scattering" title="Permalink to this headline">#</a></h2>
<div class="section" id="isotope-isotope-true">
<h3><a class="toc-backref" href="#id44"><code class="docutils literal notranslate"><span class="pre">--isotope</span></code> (<code class="docutils literal notranslate"><span class="pre">ISOTOPE</span> <span class="pre">=.TRUE.</span></code>)</a><a class="headerlink" href="#isotope-isotope-true" title="Permalink to this headline">#</a></h3>
<p>Phonon-isotope scattering is calculated based on the formula by Shin-ichiro
Tamura, Phys. Rev. B, <strong>27</strong>, 858 (1983). Mass variance parameters are read from
database of the natural abundance data for elements, which refers Laeter <em>et
al.</em>, Pure Appl. Chem., <strong>75</strong>, 683 (2003).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> -v --mesh<span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> -c POSCAR-unitcell --br --isotope
</pre></div>
</div>
</div>
<div class="section" id="mass-variances-or-mv-mass-variances">
<h3><a class="toc-backref" href="#id45"><code class="docutils literal notranslate"><span class="pre">--mass-variances</span></code> or <code class="docutils literal notranslate"><span class="pre">--mv</span></code> (<code class="docutils literal notranslate"><span class="pre">MASS_VARIANCES</span></code>)</a><a class="headerlink" href="#mass-variances-or-mv-mass-variances" title="Permalink to this headline">#</a></h3>
<p>Mass variance parameters are specified by this option to include phonon-isotope
scattering effect in the same way as <code class="docutils literal notranslate"><span class="pre">--isotope</span></code> option. For example of GaN,
this may be set like <code class="docutils literal notranslate"><span class="pre">--mv=&quot;1.97e-4</span> <span class="pre">1.97e-4</span> <span class="pre">0</span> <span class="pre">0&quot;</span></code>. The number of elements has to
correspond to the number of atoms in the primitive cell.</p>
<p>Isotope effect to thermal conductivity may be checked first running without
isotope calculation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> -v --mesh<span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> -c POSCAR-unitcell --br
</pre></div>
</div>
<p>Then running with isotope calculation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> -v --mesh<span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> -c POSCAR-unitcell --br --read-gamma --mv<span class="o">=</span><span class="s2">&quot;1.97e-4 1.97e-4 0 0&quot;</span>
</pre></div>
</div>
<p>In the result hdf5 file, currently isotope scattering strength is not written
out, i.e., <code class="docutils literal notranslate"><span class="pre">gamma</span></code> is still imaginary part of self energy of ph-ph scattering.</p>
</div>
<div class="section" id="boundary-mfp-bmfp-boundary-mfp">
<h3><a class="toc-backref" href="#id46"><code class="docutils literal notranslate"><span class="pre">--boundary-mfp</span></code>, <code class="docutils literal notranslate"><span class="pre">--bmfp</span></code> (<code class="docutils literal notranslate"><span class="pre">BOUNDARY_MFP</span></code>)</a><a class="headerlink" href="#boundary-mfp-bmfp-boundary-mfp" title="Permalink to this headline">#</a></h3>
<p>A most simple phonon boundary scattering treatment is included. <span class="math notranslate nohighlight">\(v_g/L\)</span> is just
used as the scattering rate, where <span class="math notranslate nohighlight">\(v_g\)</span> is the group velocity and <span class="math notranslate nohighlight">\(L\)</span> is the
boundary mean free path. The value is given in micrometre. The default value, 1
metre, is just used to avoid divergence of phonon lifetime and the contribution
to the thermal conducitivity is considered negligible.</p>
</div>
<div class="section" id="ave-pp-use-ave-pp-true">
<span id="ave-pp-option"></span><h3><a class="toc-backref" href="#id47"><code class="docutils literal notranslate"><span class="pre">--ave-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">USE_AVE_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#ave-pp-use-ave-pp-true" title="Permalink to this headline">#</a></h3>
<p>Averaged phonon-phonon interaction strength (<span class="math notranslate nohighlight">\(P_{\mathbf{q}j}=P_\lambda\)</span>) is
used to calculate imaginary part of self energy in thermal conductivity
calculation. <span class="math notranslate nohighlight">\(P_\lambda\)</span> is defined as</p>
<div class="math notranslate nohighlight">
\[
P_\lambda = \frac{1}{(3n_\text{a})^2}\sum_{\lambda'
\lambda''}|\Phi_{\lambda \lambda' \lambda''}|^2,
\]</div>
<p>where <span class="math notranslate nohighlight">\(n_\text{a}\)</span> is the number of atoms in unit cell. This is roughly constant
with respect to the sampling mesh density for converged
<span class="math notranslate nohighlight">\(|\Phi_{\lambda \lambda' \lambda''}|^2\)</span>. Then for all <span class="math notranslate nohighlight">\(\mathbf{q}',j',j''\)</span>,</p>
<div class="math notranslate nohighlight">
\[
|\Phi_{\mathbf{q}j,\mathbf{q}'j',\mathbf{G-q-q'}j''}|^2 :=
P_{\mathbf{q}j} / N,
\]</div>
<p>where <span class="math notranslate nohighlight">\(N\)</span> is the number of grid points on the sampling mesh.
<span class="math notranslate nohighlight">\(\Phi_{\lambda \lambda' \lambda''} \equiv 0\)</span> unless
<span class="math notranslate nohighlight">\(\mathbf{q} + \mathbf{q}' + \mathbf{q}'' = \mathbf{G}\)</span>.</p>
<p>This option works only when <code class="docutils literal notranslate"><span class="pre">--read-gamma</span></code> and <code class="docutils literal notranslate"><span class="pre">--br</span></code> options are activated
where the averaged phonon-phonon interaction that is read from
<code class="docutils literal notranslate"><span class="pre">kappa-mxxx(-sx-sdx).hdf5</span></code> file is used if it exists in the file. Therefore the
averaged phonon-phonon interaction has to be stored before using this option
(see <a class="reference internal" href="#full-pp-option"><span class="std std-ref">–full-pp</span></a>). The calculation result <strong>overwrites</strong>
<code class="docutils literal notranslate"><span class="pre">kappa-mxxx(-sx-sdx).hdf5</span></code> file. Therefore to use this option together with <code class="docutils literal notranslate"><span class="pre">-o</span></code>
option is strongly recommended.</p>
<p>First, run full conductivity calculation,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> -v --mesh<span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> -c POSCAR-unitcell --br
</pre></div>
</div>
<p>Then</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> -v --mesh<span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> -c POSCAR-unitcell --br --read-gamma --ave-pp -o ave_pp
</pre></div>
</div>
</div>
<div class="section" id="const-ave-pp-const-ave-pp-true">
<h3><a class="toc-backref" href="#id48"><code class="docutils literal notranslate"><span class="pre">--const-ave-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">CONST_AVE_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#const-ave-pp-const-ave-pp-true" title="Permalink to this headline">#</a></h3>
<p>Averaged phonon-phonon interaction (<span class="math notranslate nohighlight">\(P_{\mathbf{q}j}\)</span>) is replaced by this
constant value and <span class="math notranslate nohighlight">\(|\Phi_{\lambda \lambda'
\lambda''}|^2\)</span> are set as written in
<a class="reference internal" href="#ave-pp-option"><span class="std std-ref">–ave-pp</span></a> for thermal conductivity calculation. This
option works only when <code class="docutils literal notranslate"><span class="pre">--br</span></code> options are activated. Therefore third-order force
constants are not necessary to input. The physical unit of the value is
<span class="math notranslate nohighlight">\(\text{eV}^2\)</span>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;3 3 2&quot;</span> -v --mesh<span class="o">=</span><span class="s2">&quot;32 32 20&quot;</span> -c POSCAR-unitcell --br --const-ave-pp<span class="o">=</span>1e-10
</pre></div>
</div>
</div>
<div class="section" id="nu-n-u-true">
<span id="normal-umklapp-option"></span><h3><a class="toc-backref" href="#id49"><code class="docutils literal notranslate"><span class="pre">--nu</span></code> (<code class="docutils literal notranslate"><span class="pre">N_U</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#nu-n-u-true" title="Permalink to this headline">#</a></h3>
<p>Integration over q-point triplets for the calculation of
<span class="math notranslate nohighlight">\(\Gamma_\lambda(\omega_\lambda)\)</span> is made separately for normal
<span class="math notranslate nohighlight">\(\Gamma^\text{N}_\lambda(\omega_\lambda)\)</span> and Umklapp
<span class="math notranslate nohighlight">\(\Gamma^\text{U}_\lambda(\omega_\lambda)\)</span> processes. The sum of them is usual
<span class="math notranslate nohighlight">\(\Gamma_\lambda(\omega_\lambda) =
\Gamma^\text{N}_\lambda(\omega_\lambda) +
\Gamma^\text{U}_\lambda(\omega_\lambda)\)</span>
and this is used to calcualte thermal conductivity in single-mode RTA. The
separation, i.e., the choice of G-vector, is made based on the first Brillouin
zone.</p>
<p>The data are stored in <code class="docutils literal notranslate"><span class="pre">kappa-mxxx(-gx-sx-sdx).hdf5</span></code> file and accessed by
<code class="docutils literal notranslate"><span class="pre">gamma_N</span></code> and <code class="docutils literal notranslate"><span class="pre">gamma_U</span></code> keys. The shape of the arrays is the same as that of
<code class="docutils literal notranslate"><span class="pre">gamma</span></code> (see <a class="reference internal" href="hdf5_howto.html#kappa-hdf5-file-gamma"><span class="std std-ref">gamma</span></a>). An example (Si-PBEsol) is shown
below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> -c POSCAR-unitcell --mesh<span class="o">=</span><span class="s2">&quot;11 11 11&quot;</span> --fc3 --fc2 --br --nu
...
% ipython

In <span class="o">[</span><span class="m">1</span><span class="o">]</span>: import h5py

In <span class="o">[</span><span class="m">2</span><span class="o">]</span>: <span class="nv">f</span> <span class="o">=</span> h5py.File<span class="o">(</span><span class="s2">&quot;kappa-m111111.hdf5&quot;</span>, <span class="s1">&#39;r&#39;</span><span class="o">)</span>

In <span class="o">[</span><span class="m">3</span><span class="o">]</span>: list<span class="o">(</span>f<span class="o">)</span>
Out<span class="o">[</span><span class="m">3</span><span class="o">]</span>:
<span class="o">[</span><span class="s1">&#39;frequency&#39;</span>,
 <span class="s1">&#39;gamma&#39;</span>,
 <span class="s1">&#39;gamma_N&#39;</span>,
 <span class="s1">&#39;gamma_U&#39;</span>,
 <span class="s1">&#39;group_velocity&#39;</span>,
 <span class="s1">&#39;gv_by_gv&#39;</span>,
 <span class="s1">&#39;heat_capacity&#39;</span>,
 <span class="s1">&#39;kappa&#39;</span>,
 <span class="s1">&#39;kappa_unit_conversion&#39;</span>,
 <span class="s1">&#39;mesh&#39;</span>,
 <span class="s1">&#39;mode_kappa&#39;</span>,
 <span class="s1">&#39;qpoint&#39;</span>,
 <span class="s1">&#39;temperature&#39;</span>,
 <span class="s1">&#39;weight&#39;</span><span class="o">]</span>

In <span class="o">[</span><span class="m">4</span><span class="o">]</span>: f<span class="o">[</span><span class="s1">&#39;gamma&#39;</span><span class="o">]</span>.shape
Out<span class="o">[</span><span class="m">4</span><span class="o">]</span>: <span class="o">(</span><span class="m">101</span>, <span class="m">56</span>, <span class="m">6</span><span class="o">)</span>

In <span class="o">[</span><span class="m">5</span><span class="o">]</span>: f<span class="o">[</span><span class="s1">&#39;gamma_N&#39;</span><span class="o">]</span>.shape
Out<span class="o">[</span><span class="m">5</span><span class="o">]</span>: <span class="o">(</span><span class="m">101</span>, <span class="m">56</span>, <span class="m">6</span><span class="o">)</span>

In <span class="o">[</span><span class="m">6</span><span class="o">]</span>: f<span class="o">[</span><span class="s1">&#39;gamma_U&#39;</span><span class="o">]</span>.shape
Out<span class="o">[</span><span class="m">6</span><span class="o">]</span>: <span class="o">(</span><span class="m">101</span>, <span class="m">56</span>, <span class="m">6</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="scattering-event-class-scattering-event-class">
<h3><a class="toc-backref" href="#id50"><code class="docutils literal notranslate"><span class="pre">--scattering-event-class</span></code> (<code class="docutils literal notranslate"><span class="pre">SCATTERING_EVENT_CLASS</span></code>)</a><a class="headerlink" href="#scattering-event-class-scattering-event-class" title="Permalink to this headline">#</a></h3>
<p>Scattering event class of imaginary part of self energy is specified by <code class="docutils literal notranslate"><span class="pre">1</span></code> or
<code class="docutils literal notranslate"><span class="pre">2</span></code>. This only works with <a class="reference internal" href="#ise-option"><span class="std std-ref">--ise (IMAG_SELF_ENERGY = .TRUE.)</span></a> option. The classes 1 and 2 are
given by</p>
<div class="math notranslate nohighlight">
\[
\begin{align*}
 \Gamma_\lambda^{(1)}(\omega) = \frac{18\pi}{\hbar^2}
 \sum_{\lambda_1 \lambda_2}
 \bigl|\Phi_{-\lambda\lambda_1\lambda_2}\bigl|^2
 (n_{\lambda_1}-n_{\lambda_2})
 \left[\delta(\omega+\omega_{\lambda_1}-\omega_{\lambda_2})
 -  \delta(\omega-\omega_{\lambda_1}+\omega_{\lambda_2})
 \right]
 \end{align*}
\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[
\begin{align*}
 \Gamma_\lambda^{(2)}(\omega) = \frac{18\pi}{\hbar^2}
 \sum_{\lambda_1 \lambda_2}
 \bigl|\Phi_{-\lambda\lambda_1\lambda_2}\bigl|^2
(n_{\lambda_1}+ n_{\lambda_2}+1)
 \left[ \delta(\omega-\omega_{\lambda_1}-\omega_{\lambda_2})
 - \delta(\omega + \omega_{\lambda_1} + \omega_{\lambda_2}) \right]
 \end{align*},
\]</div>
<p>respectively, and</p>
<div class="math notranslate nohighlight">
\[
\Gamma_\lambda(\omega) = \Gamma_\lambda^{(1)}(\omega) + \Gamma_\lambda^{(2)}(\omega).
\]</div>
</div>
</div>
<div class="section" id="temperature">
<h2><a class="toc-backref" href="#id51">Temperature</a><a class="headerlink" href="#temperature" title="Permalink to this headline">#</a></h2>
<div class="section" id="ts-temperatures-temperatures">
<span id="ts-option"></span><h3><a class="toc-backref" href="#id52"><code class="docutils literal notranslate"><span class="pre">--ts</span></code> (<code class="docutils literal notranslate"><span class="pre">TEMPERATURES</span></code>): Temperatures</a><a class="headerlink" href="#ts-temperatures-temperatures" title="Permalink to this headline">#</a></h3>
<p>Specific temperatures are specified by <code class="docutils literal notranslate"><span class="pre">--ts</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc3 --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> -v --mesh<span class="o">=</span><span class="s2">&quot;11 11 11&quot;</span> -c POSCAR-unitcell --br --ts<span class="o">=</span><span class="s2">&quot;200 300 400&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="tmax-tmin-tstep-tmax-tmin-tstep">
<h3><a class="toc-backref" href="#id53"><code class="docutils literal notranslate"><span class="pre">--tmax</span></code>, <code class="docutils literal notranslate"><span class="pre">--tmin</span></code>, <code class="docutils literal notranslate"><span class="pre">--tstep</span></code> (<code class="docutils literal notranslate"><span class="pre">TMAX</span></code>, <code class="docutils literal notranslate"><span class="pre">TMIN</span></code>, <code class="docutils literal notranslate"><span class="pre">TSTEP</span></code>)</a><a class="headerlink" href="#tmax-tmin-tstep-tmax-tmin-tstep" title="Permalink to this headline">#</a></h3>
<p>Temperatures at equal interval are specified by <code class="docutils literal notranslate"><span class="pre">--tmax</span></code>, <code class="docutils literal notranslate"><span class="pre">--tmin</span></code>, <code class="docutils literal notranslate"><span class="pre">--tstep</span></code>.
See phonopy’s document for the same tags at
<a class="reference external" href="http://phonopy.github.io/phonopy/setting-tags.html#tprop-tmin-tmax-tstep">http://phonopy.github.io/phonopy/setting-tags.html#tprop-tmin-tmax-tstep</a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc3 --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> -v --mesh<span class="o">=</span><span class="s2">&quot;11 11 11&quot;</span> -c POSCAR-unitcell --br --tmin<span class="o">=</span><span class="m">100</span> --tmax<span class="o">=</span><span class="m">1000</span> --tstep<span class="o">=</span><span class="m">50</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="non-analytical-term-correction">
<h2><a class="toc-backref" href="#id54">Non-analytical term correction</a><a class="headerlink" href="#non-analytical-term-correction" title="Permalink to this headline">#</a></h2>
<div class="section" id="nac-nac-true">
<span id="nac-option"></span><h3><a class="toc-backref" href="#id55"><code class="docutils literal notranslate"><span class="pre">--nac</span></code> (<code class="docutils literal notranslate"><span class="pre">NAC</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#nac-nac-true" title="Permalink to this headline">#</a></h3>
<p>Non-analytical term correction for harmonic phonons. Like as phonopy, <code class="docutils literal notranslate"><span class="pre">BORN</span></code>
file has to be put on the same directory. Always the default value of unit
conversion factor is used even if it is written in the first line of <code class="docutils literal notranslate"><span class="pre">BORN</span></code>
file.</p>
</div>
<div class="section" id="q-direction-q-direction">
<h3><a class="toc-backref" href="#id56"><code class="docutils literal notranslate"><span class="pre">--q-direction</span></code> (<code class="docutils literal notranslate"><span class="pre">Q_DIRECTION</span></code>)</a><a class="headerlink" href="#q-direction-q-direction" title="Permalink to this headline">#</a></h3>
<p>This is used with <code class="docutils literal notranslate"><span class="pre">--nac</span></code> to specify reciprocal-space direction at
<span class="math notranslate nohighlight">\(\mathbf{q}\rightarrow \mathbf{0}\)</span>. See the detail at
<a class="reference external" href="http://phonopy.github.io/phonopy/setting-tags.html#q-direction">http://phonopy.github.io/phonopy/setting-tags.html#q-direction</a>.</p>
</div>
</div>
<div class="section" id="imaginary-and-real-parts-of-self-energy">
<span id="self-energy-options"></span><h2><a class="toc-backref" href="#id57">Imaginary and real parts of self energy</a><a class="headerlink" href="#imaginary-and-real-parts-of-self-energy" title="Permalink to this headline">#</a></h2>
<p>Phonon self-energy of bubble diagram is written as,</p>
<div class="math notranslate nohighlight">
\[
\Sigma_\lambda(\omega) = \Delta_\lambda(\omega) - i \Gamma_\lambda(\omega).
\]</div>
<p>The imaginary part and real part are written as</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
 \Gamma_\lambda(\omega) = \frac{18\pi}{\hbar^2}
 \sum_{\lambda_1 \lambda_2}
 \bigl|\Phi_{-\lambda\lambda_1\lambda_2}\bigl|^2 &amp;
 \left\{(n_{\lambda_1}+ n_{\lambda_2}+1)
 \left[ \delta(\omega-\omega_{\lambda_1}-\omega_{\lambda_2})
 - \delta(\omega+\omega_{\lambda_1}+\omega_{\lambda_2}) \right] \right.
 \\
 &amp; + (n_{\lambda_1}-n_{\lambda_2})
 \left[\delta(\omega+\omega_{\lambda_1}-\omega_{\lambda_2})
 - \left. \delta(\omega-\omega_{\lambda_1}+\omega_{\lambda_2})
 \right]\right\},
\end{align*}
\end{split}\]</div>
<p>and</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
\Delta_\lambda(\omega) = \frac{18\pi}{\hbar^2}
 \sum_{\lambda_1 \lambda_2}
 \bigl|\Phi_{-\lambda\lambda_1\lambda_2}\bigl|^2 &amp;
 \left\{
 \left[ \frac{(n_{\lambda_1}+ n_{\lambda_2}+1)}{
 (\omega-\omega_{\lambda_1}-\omega_{\lambda_2})_\mathrm{p}}
 - \frac{(n_{\lambda_1}+ n_{\lambda_2}+1)}{
 (\omega+\omega_{\lambda_1}+\omega_{\lambda_2})_\mathrm{p}}
 \right]
 \right. \\
  &amp; + \left[
 \frac{(n_{\lambda_1}-n_{\lambda_2})}{(\omega +
 \omega_{\lambda_1} - \omega_{\lambda_2})_\mathrm{p}}
 - \left. \frac{(n_{\lambda_1}-n_{\lambda_2})}{(\omega -
 \omega_{\lambda_1} + \omega_{\lambda_2})_\mathrm{p}}
 \right]\right\},
\end{align*}
\end{split}\]</div>
<p>respectively. In the above formulae, angular frequency <span class="math notranslate nohighlight">\(\omega\)</span> is used, but in
the calculation results, ordinal frequency <span class="math notranslate nohighlight">\(\nu\)</span> is used. Be careful about
<span class="math notranslate nohighlight">\(2\pi\)</span> treatment.</p>
<div class="section" id="ise-imag-self-energy-true">
<span id="ise-option"></span><h3><a class="toc-backref" href="#id58"><code class="docutils literal notranslate"><span class="pre">--ise</span></code> (<code class="docutils literal notranslate"><span class="pre">IMAG_SELF_ENERGY</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#ise-imag-self-energy-true" title="Permalink to this headline">#</a></h3>
<p>Imaginary part of self energy <span class="math notranslate nohighlight">\(\Gamma_\lambda(\omega)\)</span> is calculated with
respect to frequency <span class="math notranslate nohighlight">\(\omega\)</span>, where <span class="math notranslate nohighlight">\(\omega\)</span> is sampled following
<a class="reference internal" href="#freq-sampling-option"><span class="std std-ref">--num-freq-points, --freq-pitch (NUM_FREQUENCY_POINTS)</span></a>. The output of <span class="math notranslate nohighlight">\(\Gamma_\lambda(\omega)\)</span> is written
to <code class="docutils literal notranslate"><span class="pre">gammas-mxxx-gx(-sx)-tx-bx.dat</span></code> in THz (without <span class="math notranslate nohighlight">\(2\pi\)</span>) with respect to
samplied frequency points of <span class="math notranslate nohighlight">\(\omega\)</span> in THz (without <span class="math notranslate nohighlight">\(2\pi\)</span>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc3 --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --mesh<span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> -c POSCAR-unitcell --nac --q-direction<span class="o">=</span><span class="s2">&quot;1 0 0&quot;</span> --gp<span class="o">=</span><span class="m">0</span> --ise --bi<span class="o">=</span><span class="s2">&quot;4 5, 6&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="rse-real-self-energy-true">
<span id="rse-option"></span><h3><a class="toc-backref" href="#id59"><code class="docutils literal notranslate"><span class="pre">--rse</span></code> (<code class="docutils literal notranslate"><span class="pre">REAL_SELF_ENERGY</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#rse-real-self-energy-true" title="Permalink to this headline">#</a></h3>
<p>Real part of self energy <span class="math notranslate nohighlight">\(\Delta_\lambda(\omega)\)</span> is calculated with respect to
frequency <span class="math notranslate nohighlight">\(\omega\)</span>, where <span class="math notranslate nohighlight">\(\omega\)</span> is sampled following
<a class="reference internal" href="#freq-sampling-option"><span class="std std-ref">--num-freq-points, --freq-pitch (NUM_FREQUENCY_POINTS)</span></a>. With this option, only smearing approach is
provided, for which values given by <code class="docutils literal notranslate"><span class="pre">--sigma</span></code> option are used to approximate the
principal value as <span class="math notranslate nohighlight">\(\varepsilon\)</span> in the following equation:</p>
<div class="math notranslate nohighlight">
\[
\mathcal{P} \int^{\omega_\text{min}}_{\omega_\text{max}}
\frac{f(\omega)}{\omega} dx
\sim
\lim_{\varepsilon \rightarrow 0} \int^{\omega_\text{min}}_{\omega_\text{max}}
\frac{\omega}{\omega^2 + \varepsilon^2} f(\omega) dx
\]</div>
<p>where <span class="math notranslate nohighlight">\(\mathcal{P}\)</span> denotes the Cauchy principal value. The output of
<span class="math notranslate nohighlight">\(\Delta_\lambda(\omega)\)</span> is written to <code class="docutils literal notranslate"><span class="pre">deltas-mxxx-gx-sx-tx-bx.dat</span></code> in THz
(without <span class="math notranslate nohighlight">\(2\pi\)</span>) with respect to samplied frequency points of <span class="math notranslate nohighlight">\(\omega\)</span> in THz
(without <span class="math notranslate nohighlight">\(2\pi\)</span>).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc3 --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --mesh<span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> -c POSCAR-unitcell --nac --q-direction<span class="o">=</span><span class="s2">&quot;1 0 0&quot;</span> --gp<span class="o">=</span><span class="m">0</span> --rse --sigma<span class="o">=</span><span class="s2">&quot;0.1&quot;</span> --bi<span class="o">=</span><span class="s2">&quot;4 5, 6&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="spectral-function">
<span id="spectral-function-option"></span><h2><a class="toc-backref" href="#id60">Spectral function</a><a class="headerlink" href="#spectral-function" title="Permalink to this headline">#</a></h2>
<p>Phonon spectral function of bubble diagram is written as</p>
<div class="math notranslate nohighlight">
\[
A_\lambda(\omega) = \frac{1}{\pi} \frac{4\Omega^2_\lambda
 \Gamma_\lambda(\omega)}
 {\left[\omega^2 - \Omega^2_\lambda -
 2\Omega_\lambda \Delta_\lambda(\omega) \right]^2
 + \left[ 2\Omega_\lambda
 \Gamma_\lambda(\omega) \right]^2},
\]</div>
<p>where <span class="math notranslate nohighlight">\(A_\lambda(\omega)\)</span> is defined to be normalized as</p>
<div class="math notranslate nohighlight">
\[
 \int_0^\infty \frac{d\omega}{2\pi} A_\lambda(\omega) = 1.
\]</div>
<div class="section" id="spf-spectral-function-true">
<h3><a class="toc-backref" href="#id61"><code class="docutils literal notranslate"><span class="pre">--spf</span></code> (<code class="docutils literal notranslate"><span class="pre">SPECTRAL_FUNCTION</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#spf-spectral-function-true" title="Permalink to this headline">#</a></h3>
<p>Spectral function of self energy <span class="math notranslate nohighlight">\(A_\lambda(\omega)\)</span> is calculated with respect
to frequency <span class="math notranslate nohighlight">\(\omega\)</span>, where <span class="math notranslate nohighlight">\(\omega\)</span> is sampled following
<a class="reference internal" href="#freq-sampling-option"><span class="std std-ref">--num-freq-points, --freq-pitch (NUM_FREQUENCY_POINTS)</span></a>. First, imaginary part of self-energy is calculated
and then the real part is calculatd using the Kramers–Kronig relation. The
output of <span class="math notranslate nohighlight">\(A_\lambda(\omega)\)</span> is written to <code class="docutils literal notranslate"><span class="pre">spectral-mxxx-gx(-sx)-tx-bx.dat</span></code> in
THz (without <span class="math notranslate nohighlight">\(2\pi\)</span>) with respect to samplied frequency points of <span class="math notranslate nohighlight">\(\omega\)</span> in
THz (without <span class="math notranslate nohighlight">\(2\pi\)</span>), and <code class="docutils literal notranslate"><span class="pre">spectral-mxxx-gx.hdf5</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc3 --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --mesh<span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> -c POSCAR-unitcell --nac --q-direction<span class="o">=</span><span class="s2">&quot;1 0 0&quot;</span> --gp<span class="o">=</span><span class="m">0</span> --spf
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When <code class="docutils literal notranslate"><span class="pre">--bi</span></code> option is unspecified, spectral functions of all bands are
calculated and the sum divided by the number of bands is stored in
<code class="docutils literal notranslate"><span class="pre">spectral-mxxx-gx(-sx)-tx-bx.dat</span></code>, i.e.,
<span class="math notranslate nohighlight">\((\sum_j A_{\mathbf{q}j}) / N_\text{b}\)</span>, where <span class="math notranslate nohighlight">\(N_\text{b}\)</span> is the
number of bands and <span class="math notranslate nohighlight">\(\lambda \equiv (\mathbf{q},j)\)</span> is the phonon mode.
The spectral function of each band is written in the hdf5
file, where <span class="math notranslate nohighlight">\(A_{\mathrm{q}j}\)</span> is normalied as given above, i.e., numerical
sum of stored value for each band should become roughly 1.</p>
</div>
</div>
</div>
<div class="section" id="joint-density-of-states-jdos-and-weighted-jdos">
<span id="jdos-option"></span><h2><a class="toc-backref" href="#id62">Joint density of states (JDOS) and weighted-JDOS</a><a class="headerlink" href="#joint-density-of-states-jdos-and-weighted-jdos" title="Permalink to this headline">#</a></h2>
<div class="section" id="jdos-joint-dos-true">
<h3><a class="toc-backref" href="#id63"><code class="docutils literal notranslate"><span class="pre">--jdos</span></code> (<code class="docutils literal notranslate"><span class="pre">JOINT_DOS</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#jdos-joint-dos-true" title="Permalink to this headline">#</a></h3>
<p>Two classes of joint density of states (JDOS) are calculated. The result is
written into <code class="docutils literal notranslate"><span class="pre">jdos-mxxx-gx(-sx-sdx).dat</span></code> in <span class="math notranslate nohighlight">\(\text{THz}^{-1}\)</span> (without
<span class="math notranslate nohighlight">\((2\pi)^{-1}\)</span>) with respect to frequency in THz (without <span class="math notranslate nohighlight">\(2\pi\)</span>). Frequency
sampling points can be specified by <a class="reference internal" href="#freq-sampling-option"><span class="std std-ref">--num-freq-points, --freq-pitch (NUM_FREQUENCY_POINTS)</span></a>.</p>
<p>The first column is the frequency, and the second and third columns are the
values given as follows, respectively,</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
&amp; D_2^{(1)}(\mathbf{q}, \omega) = \frac{1}{N}
\sum_{\lambda',\lambda''} \Delta(-\mathbf{q}+\mathbf{q}'+\mathbf{q}'')
\left[\delta(\omega+\omega_{\lambda'}-\omega_{\lambda''}) +
\delta(\omega-\omega_{\lambda'}+\omega_{\lambda''}) \right], \\
&amp; D_2^{(2)}(\mathbf{q}, \omega) = \frac{1}{N}
\sum_{\lambda',\lambda''}
\Delta(-\mathbf{q}+\mathbf{q}'+\mathbf{q}'') \delta(\omega-\omega_{\lambda'}
-\omega_{\lambda''}).
\end{align}
\end{split}\]</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> -c POSCAR-unitcell --mesh<span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> --jdos --ga<span class="o">=</span><span class="s2">&quot;0 0 0  8 8 8&quot;</span>
</pre></div>
</div>
<p>When temperatures are specified, two classes of weighted JDOS are calculated.
The result is written into <code class="docutils literal notranslate"><span class="pre">jdos-mxxx-gx(-sx)-txxx.dat</span></code> in <span class="math notranslate nohighlight">\(\text{THz}^{-1}\)</span>
(without <span class="math notranslate nohighlight">\((2\pi)^{-1}\)</span>) with respect to frequency in THz (without <span class="math notranslate nohighlight">\(2\pi\)</span>). In
the file name, <code class="docutils literal notranslate"><span class="pre">txxx</span></code> shows the temperature. The first column is the frequency,
and the second and third columns are the values given as follows, respectively,</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
&amp; N_2^{(1)}(\mathbf{q}, \omega) = \frac{1}{N}
\sum_{\lambda'\lambda''} \Delta(-\mathbf{q}+\mathbf{q}'+\mathbf{q}'')
(n_{\lambda'} - n_{\lambda''}) [ \delta( \omega + \omega_{\lambda'} -
\omega_{\lambda''}) - \delta( \omega - \omega_{\lambda'} +
\omega_{\lambda''})], \\
&amp; N_2^{(2)}(\mathbf{q}, \omega) = \frac{1}{N}
\sum_{\lambda'\lambda''} \Delta(-\mathbf{q}+\mathbf{q}'+\mathbf{q}'')
(n_{\lambda'}+ n_{\lambda''}+1) \delta( \omega - \omega_{\lambda'} -
\omega_{\lambda''}).
\end{align}
\end{split}\]</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> -c POSCAR-unitcell --mesh<span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> --jdos --ga<span class="o">=</span><span class="s2">&quot;0 0 0  8 8 8&quot;</span> --ts<span class="o">=</span><span class="m">300</span>
</pre></div>
</div>
<p>This is an example of <code class="docutils literal notranslate"><span class="pre">Si-PBEsol</span></code>.</p>
<a class="reference internal image-reference" href="_images/Si-JDOS.png"><img alt="_images/Si-JDOS.png" src="_images/Si-JDOS.png" style="width: 50%;" /></a>
</div>
</div>
<div class="section" id="sampling-frequency-for-distribution-functions">
<h2><a class="toc-backref" href="#id64">Sampling frequency for distribution functions</a><a class="headerlink" href="#sampling-frequency-for-distribution-functions" title="Permalink to this headline">#</a></h2>
<div class="section" id="num-freq-points-freq-pitch-num-frequency-points">
<span id="freq-sampling-option"></span><h3><a class="toc-backref" href="#id65"><code class="docutils literal notranslate"><span class="pre">--num-freq-points</span></code>, <code class="docutils literal notranslate"><span class="pre">--freq-pitch</span></code> (<code class="docutils literal notranslate"><span class="pre">NUM_FREQUENCY_POINTS</span></code>)</a><a class="headerlink" href="#num-freq-points-freq-pitch-num-frequency-points" title="Permalink to this headline">#</a></h3>
<p>For spectrum-like calculations of imaginary part of self energy, spectral
function, and JDOS, number or interval of uniform sampling frequency points is
controlled by <code class="docutils literal notranslate"><span class="pre">--num-freq-points</span></code> or <code class="docutils literal notranslate"><span class="pre">--freq-pitch</span></code>. Both are unspecified,
default value of <code class="docutils literal notranslate"><span class="pre">--num-freq-points</span></code> of 200 is used.</p>
</div>
</div>
<div class="section" id="mode-gruneisen-parameter-from-3rd-order-force-constants">
<h2><a class="toc-backref" href="#id66">Mode-Gruneisen parameter from 3rd order force constants</a><a class="headerlink" href="#mode-gruneisen-parameter-from-3rd-order-force-constants" title="Permalink to this headline">#</a></h2>
<div class="section" id="gruneisen-gruneisen-true">
<h3><a class="toc-backref" href="#id67"><code class="docutils literal notranslate"><span class="pre">--gruneisen</span></code> (<code class="docutils literal notranslate"><span class="pre">GRUNEISEN</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#gruneisen-gruneisen-true" title="Permalink to this headline">#</a></h3>
<p>Mode-Gruneisen-parameters are calculated from fc3.</p>
<p>Mesh sampling mode:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc3 --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> -v --mesh<span class="o">=</span><span class="s2">&quot;16 16 16&quot;</span> -c POSCAR-unitcell --nac --gruneisen
</pre></div>
</div>
<p>Band path mode:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc3 --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> -v -c POSCAR-unitcell --nac --gruneisen --band<span class="o">=</span><span class="s2">&quot;0 0 0  0 0 1/2&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="file-i-o">
<h2><a class="toc-backref" href="#id68">File I/O</a><a class="headerlink" href="#file-i-o" title="Permalink to this headline">#</a></h2>
<div class="section" id="fc2-read-fc2-true">
<h3><a class="toc-backref" href="#id69"><code class="docutils literal notranslate"><span class="pre">--fc2</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_FC2</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#fc2-read-fc2-true" title="Permalink to this headline">#</a></h3>
<p>Read 2nd order force constants from <code class="docutils literal notranslate"><span class="pre">fc2.hdf5</span></code>.</p>
</div>
<div class="section" id="fc3-read-fc3-true">
<h3><a class="toc-backref" href="#id70"><code class="docutils literal notranslate"><span class="pre">--fc3</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_FC3</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#fc3-read-fc3-true" title="Permalink to this headline">#</a></h3>
<p>Read 3rd order force constants from <code class="docutils literal notranslate"><span class="pre">fc3.hdf5</span></code>.</p>
</div>
<div class="section" id="write-gamma-write-gamma-true">
<span id="write-gamma-option"></span><h3><a class="toc-backref" href="#id71"><code class="docutils literal notranslate"><span class="pre">--write-gamma</span></code> (<code class="docutils literal notranslate"><span class="pre">WRITE_GAMMA</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#write-gamma-write-gamma-true" title="Permalink to this headline">#</a></h3>
<p>Imaginary parts of self energy at harmonic phonon frequencies
<span class="math notranslate nohighlight">\(\Gamma_\lambda(\omega_\lambda)\)</span> are written into file in hdf5 format. The
result is written into <code class="docutils literal notranslate"><span class="pre">kappa-mxxx-gx(-sx-sdx).hdf5</span></code> or
<code class="docutils literal notranslate"><span class="pre">kappa-mxxx-gx-bx(-sx-sdx).hdf5</span></code> with <code class="docutils literal notranslate"><span class="pre">--bi</span></code> option. With <code class="docutils literal notranslate"><span class="pre">--sigma</span></code> and
<code class="docutils literal notranslate"><span class="pre">--sigma-cutoff</span></code> options, <code class="docutils literal notranslate"><span class="pre">-sx</span></code> and <code class="docutils literal notranslate"><span class="pre">--sdx</span></code> are inserted, respectively, in front
of <code class="docutils literal notranslate"><span class="pre">.hdf5</span></code>.</p>
</div>
<div class="section" id="read-gamma-read-gamma-true">
<span id="read-gamma-option"></span><h3><a class="toc-backref" href="#id72"><code class="docutils literal notranslate"><span class="pre">--read-gamma</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_GAMMA</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#read-gamma-read-gamma-true" title="Permalink to this headline">#</a></h3>
<p>Imaginary parts of self energy at harmonic phonon frequencies
<span class="math notranslate nohighlight">\(\Gamma_\lambda(\omega_\lambda)\)</span> are read from <code class="docutils literal notranslate"><span class="pre">kappa</span></code> file in hdf5 format.
Initially the usual result file of <code class="docutils literal notranslate"><span class="pre">kappa-mxxx(-sx-sdx).hdf5</span></code> is searched.
Unless it is found, it tries to read <code class="docutils literal notranslate"><span class="pre">kappa</span></code> file for each grid point,
<code class="docutils literal notranslate"><span class="pre">kappa-mxxx-gx(-sx-sdx).hdf5</span></code>. Then, similarly, <code class="docutils literal notranslate"><span class="pre">kappa-mxxx-gx(-sx-sdx).hdf5</span></code>
not found, <code class="docutils literal notranslate"><span class="pre">kappa-mxxx-gx-bx(-sx-sdx).hdf5</span></code> files for band indices are searched.</p>
</div>
<div class="section" id="write-gamma-detail-write-gamma-detail-true">
<span id="write-detailed-gamma-option"></span><h3><a class="toc-backref" href="#id73"><code class="docutils literal notranslate"><span class="pre">--write-gamma-detail</span></code> (<code class="docutils literal notranslate"><span class="pre">WRITE_GAMMA_DETAIL</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#write-gamma-detail-write-gamma-detail-true" title="Permalink to this headline">#</a></h3>
<p>Each q-point triplet contribution to imaginary part of self energy is written
into <code class="docutils literal notranslate"><span class="pre">gamma_detail-mxxx-gx(-sx-sdx).hdf5</span></code> file. Be careful that this is large
data.</p>
<p>In the output file in hdf5, following keys are used to extract the detailed
information.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>dataset</p></th>
<th class="head"><p>Array shape</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>gamma_detail for <code class="docutils literal notranslate"><span class="pre">--ise</span></code></p></td>
<td><p>(temperature, sampling frequency point, symmetry reduced set of triplets at a grid point, band1, band2, band3) in THz (without <span class="math notranslate nohighlight">\(2\pi\)</span>)</p></td>
</tr>
<tr class="row-odd"><td><p>gamma_detail for <code class="docutils literal notranslate"><span class="pre">--br</span></code></p></td>
<td><p>(temperature, symmetry reduced set of triplets at a grid point, band1, band2, band3) in THz (without <span class="math notranslate nohighlight">\(2\pi\)</span>)</p></td>
</tr>
<tr class="row-even"><td><p>mesh</p></td>
<td><p>Numbers of sampling mesh along reciprocal axes.</p></td>
</tr>
<tr class="row-odd"><td><p>frequency_point for <code class="docutils literal notranslate"><span class="pre">--ise</span></code></p></td>
<td><p>Sampling frequency points in THz (without <span class="math notranslate nohighlight">\(2\pi\)</span>), i.e., <span class="math notranslate nohighlight">\(\omega\)</span> in <span class="math notranslate nohighlight">\(\Gamma_\lambda(\omega)\)</span></p></td>
</tr>
<tr class="row-even"><td><p>temperature</p></td>
<td><p>(temperature,), Temperatures in K</p></td>
</tr>
<tr class="row-odd"><td><p>triplet</p></td>
<td><p>(symmetry reduced set of triplets at a grid point, 3), Triplets are given by the grid point indices (see below).</p></td>
</tr>
<tr class="row-even"><td><p>weight</p></td>
<td><p>(symmetry reduced set of triplets at a grid point,), Weight of each triplet to imaginary part of self energy</p></td>
</tr>
</tbody>
</table>
<p>Imaginary part of self energy (linewidth/2) is recovered by the following
script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">h5py</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">gd</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;gamma_detail-mxxx-gx.hdf5&quot;</span><span class="p">)</span>
<span class="n">temp_index</span> <span class="o">=</span> <span class="mi">30</span> <span class="c1"># index of temperature</span>
<span class="n">temperature</span> <span class="o">=</span> <span class="n">gd</span><span class="p">[</span><span class="s1">&#39;temperature&#39;</span><span class="p">][</span><span class="n">temp_index</span><span class="p">]</span>
<span class="n">gamma_tp</span> <span class="o">=</span> <span class="n">gd</span><span class="p">[</span><span class="s1">&#39;gamma_detail&#39;</span><span class="p">][:]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">weight</span> <span class="o">=</span> <span class="n">gd</span><span class="p">[</span><span class="s1">&#39;weight&#39;</span><span class="p">][:]</span>
<span class="n">gamma</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">weight</span><span class="p">,</span> <span class="n">gamma_tp</span><span class="p">[</span><span class="n">temp_index</span><span class="p">])</span>
</pre></div>
</div>
<p>For example, for <code class="docutils literal notranslate"><span class="pre">--br</span></code>, this <code class="docutils literal notranslate"><span class="pre">gamma</span></code> gives <span class="math notranslate nohighlight">\(\Gamma_\lambda(\omega_\lambda)\)</span> of
the band indices at the grid point indicated by <span class="math notranslate nohighlight">\(\lambda\)</span> at the temperature of
index 30. If any bands are degenerated, those <code class="docutils literal notranslate"><span class="pre">gamma</span></code> in
<code class="docutils literal notranslate"><span class="pre">kappa-mxxx-gx(-sx-sdx).hdf5</span></code> or <code class="docutils literal notranslate"><span class="pre">gamma-mxxx-gx(-sx-sdx).hdf5</span></code> type file are
averaged, but the <code class="docutils literal notranslate"><span class="pre">gamma</span></code> obtained here in this way are not symmetrized. Apart
from this symmetrization, the values must be equivalent between them.</p>
<p>To understand each contribution of triptle to imaginary part of self energy,
reading <code class="docutils literal notranslate"><span class="pre">phonon-mxxx.hdf5</span></code> is useful (see <a class="reference internal" href="#write-phonon-option"><span class="std std-ref">--write-phonon (WRITE_PHONON = .TRUE.)</span></a>). For
example, phonon triplets of three phonon scatterings are obtained by</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">h5py</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">gd</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;gamma_detail-mxxx-gx.hdf5&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">ph</span> <span class="o">=</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s2">&quot;phonon-mxxx.hdf5&quot;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">gp1</span> <span class="o">=</span> <span class="n">gd</span><span class="p">[</span><span class="s1">&#39;grid_point&#39;</span><span class="p">][()]</span>
<span class="n">triplets</span> <span class="o">=</span> <span class="n">gd</span><span class="p">[</span><span class="s1">&#39;triplet&#39;</span><span class="p">][:]</span> <span class="c1"># Sets of (gp1, gp2, gp3) where gp1 is fixed</span>
<span class="n">mesh</span> <span class="o">=</span> <span class="n">gd</span><span class="p">[</span><span class="s1">&#39;mesh&#39;</span><span class="p">][:]</span>
<span class="n">grid_address</span> <span class="o">=</span> <span class="n">ph</span><span class="p">[</span><span class="s1">&#39;grid_address&#39;</span><span class="p">][:]</span>
<span class="n">q_triplets</span> <span class="o">=</span> <span class="n">grid_address</span><span class="p">[</span><span class="n">triplets</span><span class="p">]</span> <span class="o">/</span> <span class="n">mesh</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;double&#39;</span><span class="p">)</span>
<span class="c1"># Phonons of triplets[2]</span>
<span class="n">phonon_tp</span> <span class="o">=</span> <span class="p">[(</span><span class="n">ph</span><span class="p">[</span><span class="s1">&#39;frequency&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">],</span> <span class="n">ph</span><span class="p">[</span><span class="s1">&#39;eigenvector&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">triplets</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
<span class="c1"># Fractions of contributions of tripltes at this grid point and temperture index 30</span>
<span class="n">gamma_sum_over_bands</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">weight</span><span class="p">,</span> <span class="n">gd</span><span class="p">[</span><span class="s1">&#39;gamma_detail&#39;</span><span class="p">][</span><span class="mi">30</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">))</span>
<span class="n">contrib_tp</span> <span class="o">=</span> <span class="p">[</span><span class="n">gd</span><span class="p">[</span><span class="s1">&#39;gamma_detail&#39;</span><span class="p">][</span><span class="mi">30</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">gamma_sum_over_bands</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">weight</span><span class="p">))]</span>
<span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">weight</span><span class="p">,</span> <span class="n">contrib_tp</span><span class="p">)</span> <span class="c1"># is one</span>
</pre></div>
</div>
</div>
<div class="section" id="write-phonon-write-phonon-true">
<span id="write-phonon-option"></span><h3><a class="toc-backref" href="#id74"><code class="docutils literal notranslate"><span class="pre">--write-phonon</span></code> (<code class="docutils literal notranslate"><span class="pre">WRITE_PHONON</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#write-phonon-write-phonon-true" title="Permalink to this headline">#</a></h3>
<p>Phonon frequencies, eigenvectors, and grid point addresses are stored in
<code class="docutils literal notranslate"><span class="pre">phonon-mxxx.hdf5</span></code> file. <a class="reference internal" href="#pa-option"><span class="std std-ref">–pa</span></a> and <a class="reference internal" href="#nac-option"><span class="std std-ref">–nac</span></a>
may be required depending on calculation setting.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> --mesh<span class="o">=</span><span class="s2">&quot;11 11 11&quot;</span> -c POSCAR-unitcell --nac --write-phoonon
</pre></div>
</div>
<p>Contents of <code class="docutils literal notranslate"><span class="pre">phonon-mxxx.hdf5</span></code> are watched by:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>In <span class="o">[</span><span class="m">1</span><span class="o">]</span>: import h5py

In <span class="o">[</span><span class="m">2</span><span class="o">]</span>: <span class="nv">ph</span> <span class="o">=</span> h5py.File<span class="o">(</span><span class="s2">&quot;phonon-m111111.hdf5&quot;</span>, <span class="s1">&#39;r&#39;</span><span class="o">)</span>

In <span class="o">[</span><span class="m">3</span><span class="o">]</span>: list<span class="o">(</span>ph<span class="o">)</span>
Out<span class="o">[</span><span class="m">3</span><span class="o">]</span>: <span class="o">[</span><span class="s1">&#39;eigenvector&#39;</span>, <span class="s1">&#39;frequency&#39;</span>, <span class="s1">&#39;grid_address&#39;</span>, <span class="s1">&#39;mesh&#39;</span><span class="o">]</span>

In <span class="o">[</span><span class="m">4</span><span class="o">]</span>: ph<span class="o">[</span><span class="s1">&#39;mesh&#39;</span><span class="o">][</span>:<span class="o">]</span>
Out<span class="o">[</span><span class="m">4</span><span class="o">]</span>: array<span class="o">([</span><span class="m">11</span>, <span class="m">11</span>, <span class="m">11</span><span class="o">]</span>, <span class="nv">dtype</span><span class="o">=</span>int32<span class="o">)</span>

In <span class="o">[</span><span class="m">5</span><span class="o">]</span>: ph<span class="o">[</span><span class="s1">&#39;grid_address&#39;</span><span class="o">]</span>.shape
Out<span class="o">[</span><span class="m">5</span><span class="o">]</span>: <span class="o">(</span><span class="m">1367</span>, <span class="m">3</span><span class="o">)</span>

In <span class="o">[</span><span class="m">6</span><span class="o">]</span>: ph<span class="o">[</span><span class="s1">&#39;frequency&#39;</span><span class="o">]</span>.shape
Out<span class="o">[</span><span class="m">6</span><span class="o">]</span>: <span class="o">(</span><span class="m">1367</span>, <span class="m">6</span><span class="o">)</span>

In <span class="o">[</span><span class="m">7</span><span class="o">]</span>: ph<span class="o">[</span><span class="s1">&#39;eigenvector&#39;</span><span class="o">]</span>.shape
Out<span class="o">[</span><span class="m">7</span><span class="o">]</span>: <span class="o">(</span><span class="m">1367</span>, <span class="m">6</span>, <span class="m">6</span><span class="o">)</span>
</pre></div>
</div>
<p>The first axis of <code class="docutils literal notranslate"><span class="pre">ph['grid_address']</span></code>, <code class="docutils literal notranslate"><span class="pre">ph['frequency']</span></code>, and
<code class="docutils literal notranslate"><span class="pre">ph['eigenvector']</span></code> corresponds to the number of q-points where phonons are
calculated. Here the number of phonons may not be equal to product of mesh
numbers (<span class="math notranslate nohighlight">\(1367 \neq 11^3\)</span>). This is because all q-points on Brillouin zone
boundary are included, i.e., even if multiple q-points are translationally
equivalent, those phonons are stored separately though these phonons are
physically equivalent within the equations employed in phono3py. Here Brillouin
zone is defined by Wigner–Seitz cell of reciprocal primitive basis vectors. This
is convenient to categorize phonon triplets into Umklapp and Normal scatterings
based on the Brillouin zone.</p>
</div>
<div class="section" id="read-phonon-read-phonon-true">
<span id="read-phonon-option"></span><h3><a class="toc-backref" href="#id75"><code class="docutils literal notranslate"><span class="pre">--read-phonon</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_PHONON</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#read-phonon-read-phonon-true" title="Permalink to this headline">#</a></h3>
<p>Phonon frequencies, eigenvectors, and grid point addresses are read from
<code class="docutils literal notranslate"><span class="pre">phonon-mxxx.hdf5</span></code> file and the calculation is continued using these phonon
values. This is useful when we want to use fixed phonon eigenvectors that can be
different for degenerate bands when using different eigenvalue solvers or
different CPU architectures. <a class="reference internal" href="#pa-option"><span class="std std-ref">–pa</span></a> and
<a class="reference internal" href="#nac-option"><span class="std std-ref">–nac</span></a> may be required depending on calculation setting.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc2 --fc3 --dim<span class="o">=</span><span class="s2">&quot;2 2  2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> --mesh<span class="o">=</span><span class="s2">&quot;11 11 11&quot;</span> -c POSCAR-unitcell --nac --read-phoonon --br
</pre></div>
</div>
</div>
<div class="section" id="write-pp-write-pp-true-and-read-pp-read-pp-true">
<span id="write-read-pp-option"></span><h3><a class="toc-backref" href="#id76"><code class="docutils literal notranslate"><span class="pre">--write-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">WRITE_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>) and <code class="docutils literal notranslate"><span class="pre">--read-pp</span></code> (<code class="docutils literal notranslate"><span class="pre">READ_PP</span> <span class="pre">=</span> <span class="pre">.TRUE.</span></code>)</a><a class="headerlink" href="#write-pp-write-pp-true-and-read-pp-read-pp-true" title="Permalink to this headline">#</a></h3>
<p>Phonon-phonon (ph-ph) intraction strengths are written to and read from
<code class="docutils literal notranslate"><span class="pre">pp-mxxx-gx.hdf5</span></code>. This works only in the calculation of lattice thermal
conductivity, i.e., usable only with <code class="docutils literal notranslate"><span class="pre">--br</span></code> or <code class="docutils literal notranslate"><span class="pre">--lbte</span></code>. The stored data are
different with and without specifying <code class="docutils literal notranslate"><span class="pre">--full-pp</span></code> option. In the former case,
all the ph-ph interaction strengths among considered phonon triplets are stored
in a simple manner, but in the later case, only necessary elements to calculate
collisions are stored in a complicated way. In the case of RTA conductivity
calculation, in writing and reading, ph-ph interaction strength has to be stored
in memory, so there is overhead in memory than usual RTA calculation.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc2 --fc3 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> --mesh<span class="o">=</span><span class="s2">&quot;11 11 11&quot;</span> -c POSCAR-unitcell --nac --write-pp --br --gp<span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>% phono3py --fc2 --dim<span class="o">=</span><span class="s2">&quot;2 2 2&quot;</span> --pa<span class="o">=</span><span class="s2">&quot;F&quot;</span> --mesh<span class="o">=</span><span class="s2">&quot;11 11 11&quot;</span> -c POSCAR-unitcell --nac --read-pp --br --gp<span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
</div>
<div class="section" id="hdf5-compression-command-option-only">
<span id="hdf5-compression-option"></span><h3><a class="toc-backref" href="#id77"><code class="docutils literal notranslate"><span class="pre">--hdf5-compression</span></code> (command option only)</a><a class="headerlink" href="#hdf5-compression-command-option-only" title="Permalink to this headline">#</a></h3>
<p>Most of phono3py HDF5 output file is compressed by default with the <code class="docutils literal notranslate"><span class="pre">gzip</span></code>
compression filter. To avoid compression, <code class="docutils literal notranslate"><span class="pre">--hdf5-compression=None</span></code> has to be
set. Other filters (<code class="docutils literal notranslate"><span class="pre">lzf</span></code> or integer values of 0 to 9) may be used, see h5py
documentation
(<a class="reference external" href="http://docs.h5py.org/en/stable/high/dataset.html#filter-pipeline">http://docs.h5py.org/en/stable/high/dataset.html#filter-pipeline</a>).</p>
</div>
<div class="section" id="o-command-option-only">
<span id="output-filename-option"></span><h3><a class="toc-backref" href="#id78"><code class="docutils literal notranslate"><span class="pre">-o</span></code> (command option only)</a><a class="headerlink" href="#o-command-option-only" title="Permalink to this headline">#</a></h3>
<p>This modifies default output file names to write.</p>
<p>Using this option, output file names are slightly modified. For example, with
<code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">iso</span></code>, a file name <code class="docutils literal notranslate"><span class="pre">kappa-m191919.hdf5</span></code> is changed to
<code class="docutils literal notranslate"><span class="pre">kappa-m191919.iso.hdf5</span></code>.</p>
<p>This rule is applied to</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fc3.hdf5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fc2.hdf5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kappa-xxx.hdf5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phonon-xxx.hdf5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pp-xxx.hdf5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gamma_detail-xxx.hdf5</span></code> (write only)</p></li>
</ul>
</div>
<div class="section" id="i-command-option-only">
<span id="input-filename-option"></span><h3><a class="toc-backref" href="#id79"><code class="docutils literal notranslate"><span class="pre">-i</span></code> (command option only)</a><a class="headerlink" href="#i-command-option-only" title="Permalink to this headline">#</a></h3>
<p>This modifies default input file names to read.</p>
<p>Using this option, input file names are slightly modified. For example,
specifying <code class="docutils literal notranslate"><span class="pre">-i</span> <span class="pre">iso</span> <span class="pre">--fc3</span></code>, a file name <code class="docutils literal notranslate"><span class="pre">fc3.iso.hdf5</span></code> is read instead of
<code class="docutils literal notranslate"><span class="pre">fc3.hdf5</span></code>.</p>
<p>This rule is applied to</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fc3.hdf5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fc2.hdf5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">kappa-xxx.hdf5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phonon-xxx.hdf5</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pp-xxx.hdf5</span></code></p></li>
</ul>
</div>
<div class="section" id="io-command-option-only">
<h3><a class="toc-backref" href="#id80"><code class="docutils literal notranslate"><span class="pre">--io</span></code> (command option only)</a><a class="headerlink" href="#io-command-option-only" title="Permalink to this headline">#</a></h3>
<p>This modifies default input and output file names.</p>
<p>This is equivalent to setting <code class="docutils literal notranslate"><span class="pre">-i</span></code> and <code class="docutils literal notranslate"><span class="pre">-o</span></code> simultaneously.</p>
</div>
</div>
</div>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="turbomole.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">TURBOMOLE &amp; phono3py calculation</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="input-output-files.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Input / Output files</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
      &copy; Copyright 2015, Atsushi Togo.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>